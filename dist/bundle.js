!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){function n(t,e,r){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){r(this,t),this.containers=[]}var e,i,a;return e=t,(i=[{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id,i=e.prop,r=new u({id:n,prop:i,object:t});this.containers.push(r)}},{key:"get",value:function(t){for(var e=0;e<this.containers.length;e++)if(t===this.containers[e].id)return this.containers[e].object;return null}},{key:"getObjects",value:function(){return this.containers.map(function(t){return t.object})}},{key:"create",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return n(t,i)}}])&&o(e.prototype,i),a&&o(e,a),t}(),u=function t(e){var n=e.id,i=e.prop,o=e.object;r(this,t),this.id="string"==typeof n?n:"id"in o?o.id:Math.random().toString(36).replace(/[^a-z]+/g,""),"string"==typeof i&&(this[i]=o),this.object=o,this.className=this.object.constructor.name};t.exports={ObjectContainer:u,ObjectManager:a}},function(t,e){t.exports={generateRandomColor:function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},generateRandomString:function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")}}},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(0).ObjectManager,s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,arguments))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"run",value:function(t){for(var e=0;e<this.containers.length;e++){this.containers[e].object.happen(t)}}}])&&r(n.prototype,i),s&&r(n,s),e}();t.exports={GameEventManager:s}},function(t,e,n){t.exports=n.p+"images/491f0c964bfcc8d693ed38e58d9564f4.png"},function(t,e,n){t.exports=n.p+"images/b9c086b8cbc4bf4b831e39247d9b8b5f.png"},function(t,e,n){t.exports=n.p+"images/209d1bbf0d9ce9388686bc27b1f2f7a3.png"},function(t,e,n){t.exports=n.p+"images/290a53182f3488b10d050ffcb84a00c7.png"},function(t,e,n){t.exports=n.p+"images/3870ea4e5f7fd3d05f0bc4cb19710576.png"},function(t,e,n){"use strict";n.r(e);var i=60,r=2,o=4,a="idle";function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e){var n=e.image,i=e.sliceWidth,r=e.sliceHeight,o=e.matrix,a=e.range,c=e.multiple;u(this,t),this.image=n,this.sliceWidth=i,this.sliceHeight=r,this.countInRows=o[0],this.countInCols=o[1],this.startIndex=void 0===a?0:a[0],this.endIndex=void 0===a?this.countInRows*this.countInCols-1:a[1],this.multiple=void 0===c?1:c}var e,n,i;return e=t,(n=[{key:"slice",value:function(){for(var t=[],e=this.startIndex;e<=this.endIndex;e++)for(var n=e%this.countInRows,i=Math.floor(e/this.countInRows),r=new l({image:this.image,x:this.sliceWidth*n,y:this.sliceHeight*i,width:this.sliceWidth,height:this.sliceHeight}),o=0;o<this.multiple;o++)t.push(r);return t}}])&&c(e.prototype,n),i&&c(e,i),t}(),l=function t(e){var n=e.image,i=e.x,r=e.y,o=e.width,a=e.height;u(this,t),this.image=n,this.x=i,this.y=r,this.width=o,this.height=a};function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.layer,i=void 0===n?null:n,r=e.interval,o=void 0===r?50:r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=i,this.animationInterval=o,this.timerId=0,this.isStarted=!1,this.count=0}var e,n,i;return e=t,(n=[{key:"animate",value:function(){var t=this;return new Promise(function(e,n){t.timerId=setInterval(function(){t.count<20?t.count++:(clearInterval(t.timerId),e())},t.animationInterval)})}},{key:"start",value:function(){if(!this.isStarted)return this.isStarted=!0,this.animate()}},{key:"stop",value:function(){clearInterval(this.timerId),clearTimeout(this.timerId),this.isStarted=!1}}])&&f(e.prototype,n),i&&f(e,i),t}();function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=function(){function t(e){var n=e.id,i=e.priority,r=void 0===i?1:i,o=e.animations,a=void 0===o?[]:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.priority=r,this.animations=a,this.isStarted=!1}var e,n,i;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){t.animations.push(e)})}},{key:"runTogether",value:function(){this.animations.forEach(function(t){t.start()}),this.isStarted=!0}},{key:"runOneByOne",value:function(t){var e=this,n=this.animations.length;return new Promise(function(i){e.animations[t].start().then(function(){var r=t+1;r<n?e.runOneByOne(r):(e.isStarted=!1,i())})})}},{key:"run",value:function(){return this.isStarted=!0,this.runOneByOne(0)}},{key:"stop",value:function(){this.animations.forEach(function(t){t.stop()}),this.isStarted=!1}}])&&y(e.prototype,n),i&&y(e,i),t}();function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.animationQueues=[],this.currentAnimationQueue=null}var e,n,i;return e=t,(n=[{key:"addQueue",value:function(t){if(!(t instanceof p))throw new Error("[Velo] Argument must be an instance of AnimationQueue.\n");this.animationQueues.push(t)}},{key:"addQueueByAnimation",value:function(t){var e=t.qid,n=t.priority,i=void 0===n?1:n,r=t.animation,o=!0,a=!1,u=void 0;try{for(var c,s=this.animationQueues[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){if(c.value.id===e)throw new Error("[Velo] Animation already exists. Animation ID: ".concat(e,"\n"))}}catch(t){a=!0,u=t}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}var l=new p({id:e,animations:[r],priority:i});this.animationQueues.push(l)}},{key:"getQueue",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.animationQueues[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.id===t)return a}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}return null}},{key:"runQueue",value:function(t){var e=this.getQueue(t);if(null===e)throw new Error("[Velo] Animation (ID: ".concat(t,") not found.\n"));if(null!==this.currentAnimationQueue){if(e.priority>this.currentAnimationQueue.priority)return;this.currentAnimationQueue.stop()}return this.currentAnimationQueue=e,this.currentAnimationQueue.run()}},{key:"stopQueue",value:function(t){var e=this.getQueue(t);if(null===e)throw new Error("[Velo] Animation (ID: ".concat(t,") not found.\n"));e.stop()}},{key:"stopAllQueues",value:function(){this.animationQueues.forEach(function(t){t.stop()})}}])&&m(e.prototype,n),i&&m(e,i),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t){var n,i=t.repeat,r=void 0===i||i,o=t.spriteImage,a=void 0===o?null:o,u=t.flip,c=void 0!==u&&u,s=b(t,["repeat","spriteImage","flip"]);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=w(this,k(e).call(this,s))).sliceCount=0,n.shouldRepeat=r,n.spriteImage=a,n.shouldFlipImage=c,n.imageSlices=n.sliceImages(),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,h),n=e,(i=[{key:"sliceImages",value:function(){if(null===this.spriteImage||this.spriteImage instanceof s==!1)throw new Error("[Velo] SpriteImage not found or not valid.\n");return this.spriteImage.slice()}},{key:"animate",value:function(){var t=this;this.layer.shouldFlipImage=this.shouldFlipImage;return new Promise(function(e){t.timerId=setInterval(function(){t.layer.imageSlice=t.imageSlices[t.sliceCount],t.sliceCount<t.imageSlices.length-1?t.sliceCount++:(!1===t.shouldRepeat&&(t.stop(),e()),t.sliceCount=0)},t.animationInterval)})}}])&&g(n.prototype,i),r&&g(n,r),e}();function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t){var n,i=t.sliceIndex,r=void 0===i?0:i,o=t.duration,a=void 0===o?1e3:o,u=I(t,["sliceIndex","duration"]);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_(this,P(e).call(this,u))).duration=a,n.sliceIndex=r,n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,j),n=e,(i=[{key:"animate",value:function(){var t=this;return setTimeout(function(){t.layer.imageSlice=t.imageSlices[t.sliceIndex]},this.animationInterval),new Promise(function(e){t.timerId=setTimeout(function(){t.stop(),e()},t.duration)})}}])&&x(n.prototype,i),r&&x(n,r),e}(),Q=n(1),A=n.n(Q);function T(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var M=function(){function t(e){var n=e.id,i=e.x,r=e.y,o=e.zIndex,a=e.width,u=e.height;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.x=i,this.y=r,this.zIndex=o,this.width=a,this.height=u,this._hexColor=A.a.generateRandomColor()}var e,n,i;return e=t,(n=[{key:"draw",value:function(t){t.fillStyle=this._hexColor,t.fillRect(this.x,this.y,this.width,this.height)}}])&&T(e.prototype,n),i&&T(e,i),t}();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function W(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(t){var n,i=t.image,r=C(t,["image"]);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=W(this,B(e).call(this,r))).image=i,n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,M),n=e,(i=[{key:"draw",value:function(t){var e=t.createPattern(this.image,"repeat");t.fillStyle=e,t.fillRect(this.x,this.y,this.width,this.height)}}])&&K(n.prototype,i),r&&K(n,r),e}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function U(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=function(t){function e(t){var n,i=t.imageSlice,r=void 0===i?null:i,o=t.flip,a=void 0!==o&&o,u=F(t,["imageSlice","flip"]);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=U(this,q(e).call(this,u))).imageSlice=r,n.shouldFlipImage=a,n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(e,M),n=e,(i=[{key:"draw",value:function(t){null!==this.imageSlice&&(!0===this.shouldFlipImage?(t.translate(this.width+2*this.x,0),t.scale(-1,1)):(t.translate(0,0),t.scale(1,1)),t.drawImage(this.imageSlice.image,this.imageSlice.x,this.imageSlice.y,this.imageSlice.width,this.imageSlice.height,this.x,this.y,this.width,this.height))}}])&&J(n.prototype,i),r&&J(n,r),e}();function G(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var X=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.refreshRate=n,this.layers=[],this.refreshTimerId=0}var e,n,r;return e=t,(n=[{key:"get",value:function(t){for(var e=0;e<this.layers.length;e++)if(this.layers[e].id===t)return this.layers[e];return null}},{key:"sortLayers",value:function(){this.layers.sort(function(t,e){return t.zIndex-e.zIndex})}},{key:"add",value:function(t){return this.layers.push(t),this.sortLayers(),t}},{key:"paint",value:function(){for(var t=0;t<this.layers.length;t++){var e=this.layers[t];this.drawLayer(e)}}},{key:"drawLayer",value:function(t){this.context.setTransform(1,0,0,1,0,0),t.draw(this.context)}},{key:"init",value:function(){var t=this,e=Math.floor(1e3/this.refreshRate);this.refreshTimerId=setInterval(function(){0,t.paint()},e)}},{key:"stop",value:function(){clearInterval(this.refreshTimerId)}}])&&G(e.prototype,n),r&&G(e,r),t}();function Y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Z=function(){function t(e){var n=e.id,i=void 0===n?Object(Q.generateRandomString)():n,r=e.layer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=i,this.layer=r,this.isBounceStarted=!1}var e,n,i;return e=t,(n=[{key:"moveTo",value:function(t,e){this.layer.x=t,this.layer.y=e}},{key:"stay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(e,n){setTimeout(function(){return e()},t)})}},{key:"move",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:None,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return 1===t?this.layer.y-=e:t===r?this.layer.x+=e:3===t?this.layer.y+=e:t===o&&(this.layer.x-=e),new Promise(function(t,e){t()})}},{key:"bounce",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.startHeight,a=void 0===i?50:i,u=n.stepSizeX,c=void 0===u?5:u,s=n.stepSizeY,l=void 0===s?5:s,f=n.time,h=void 0===f?500:f,y=n.interval,p=void 0===y?20:y;if(!this.isBounceStarted){this.isBounceStarted=!0;var m=0,d=0;e===o?(m=-c,d=0):e===r?(m=c,d=0):1===e?(m=0,d=l):3===e&&(m=0,d=-l);var v=parseInt(h/2/p,10),b=1;return new Promise(function(e,n){var i=setInterval(function(){if(b<v){var n=parseInt(a/b);t.layer.y-=n+d,t.layer.x+=m,b++}else clearInterval(i),i=setInterval(function(){if(--b>0){var n=parseInt(a/b);t.layer.y+=n-d,t.layer.x+=m}else clearInterval(i),t.isBounceStarted=!1,e()},p)},p)})}}}])&&Y(e.prototype,n),i&&Y(e,i),t}(),$=n(0);function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),et(this,nt(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,$["ObjectManager"]),e}();function ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var at=function(){function t(e){var n=e.element,i=e.width,r=e.height,o=e.backgroundImage;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.width=i,this.height=r,this.backgroundImage=o,this.element.width=this.width,this.element.height=this.height,this.context=this.element.getContext("2d"),this.layerManager=new X(this.context),this.gameObjectManager=new rt}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=new z({id:"background",x:0,y:0,zIndex:0,width:this.width,height:this.height,image:this.backgroundImage});this.layerManager.add(t),this.layerManager.init()}},{key:"addObject",value:function(t){this.layerManager.add(t.layer),this.gameObjectManager.add(t)}}])&&ot(e.prototype,n),i&&ot(e,i),t}(),ut=(n(2),n(3)),ct=n.n(ut),st=n(4),lt=n.n(st),ft=n(5),ht=n.n(ft),yt=n(6),pt=n.n(yt);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function vt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wt=new(function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=vt(this,bt(e).call(this,t))).facing=r,n.animationManager=new d,n.currentState=a,n.init(),n}var n,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(e,Z),n=e,(i=[{key:"init",value:function(){this.animationManager=function(t){var e=new d,n=new Image;n.src=ct.a;var i=new s({image:n,sliceWidth:196,sliceHeight:197.5,matrix:[4,4]}),r=new j({layer:t,spriteImage:i}),o=new j({layer:t,flip:!0,spriteImage:i}),a=new Image;a.src=lt.a;var u=new s({image:a,sliceWidth:196,sliceHeight:197.5,matrix:[4,5]}),c=new j({layer:t,spriteImage:u}),l=new j({layer:t,flip:!0,spriteImage:u}),f=new Image;f.src=pt.a;var h=new s({image:f,sliceWidth:196,sliceHeight:197.5,matrix:[4,3],range:[0,6]}),y=new s({image:f,sliceWidth:196,sliceHeight:197.5,matrix:[4,3],range:[8,11]}),m=new s({image:f,sliceWidth:196,sliceHeight:197.5,matrix:[4,3]}),v=new j({layer:t,repeat:!1,spriteImage:h}),b=new E({layer:t,repeat:!1,spriteImage:m,sliceIndex:7,duration:500}),g=new j({layer:t,repeat:!1,spriteImage:y}),w=new j({layer:t,repeat:!1,flip:!0,spriteImage:h}),k=new E({layer:t,repeat:!1,spriteImage:m,sliceIndex:7,duration:500,flip:!0}),O=new j({layer:t,repeat:!1,spriteImage:y,flip:!0}),S=new p({id:"jump-left",animations:[v,b,g,c]}),I=new p({id:"jump-right",animations:[w,k,O,l]}),x=new Image;x.src=ht.a;var _=new s({image:x,sliceWidth:196,sliceHeight:197.5,matrix:[4,2]}),P=new j({layer:t,spriteImage:_,repeat:!1,interval:50}),D=new j({layer:t,flip:!0,spriteImage:_,repeat:!1,interval:50}),Q=new p({id:"attack-left",animations:[P]}),A=new p({id:"attack-right",animations:[D]});return e.addQueueByAnimation({qid:"walk-left",animation:r}),e.addQueueByAnimation({qid:"walk-right",animation:o}),e.addQueueByAnimation({qid:"idle-left",animation:c}),e.addQueueByAnimation({qid:"idle-right",animation:l}),e.addQueue(S),e.addQueue(I),e.addQueue(Q),e.addQueue(A),e}(this.layer),this.idle()}},{key:"walkByFacing",value:function(){"walk"!==this.currentState&&(this.currentState="walk",this.facing===o?this.animationManager.runQueue("walk-left"):this.facing===r&&this.animationManager.runQueue("walk-right"))}},{key:"stopWalk",value:function(){this.idle()}},{key:"walk",value:function(t){"jump"!==this.currentState&&"attack"!==this.currentState&&(t===o?(this.facing=o,this.move(o)):t===r?(this.facing=r,this.move(r)):1===t?this.move(1):3===t&&this.move(3),this.walkByFacing())}},{key:"walkLeft",value:function(){return this.walk(o)}},{key:"walkRight",value:function(){return this.walk(r)}},{key:"attack",value:function(t){var e=this;"attack"!==this.currentState&&(this.currentState="attack",this.facing===o?this.animationManager.runQueue("attack-left").then(function(){e.idle()}):this.facing===r&&this.animationManager.runQueue("attack-right").then(function(){e.idle()}))}},{key:"jumpLeft",value:function(){this.facing=o,this.jump(o)}},{key:"jumpRight",value:function(){this.facing=r,this.jump(r)}},{key:"jumpUp",value:function(){this.jump(1)}},{key:"jumpDown",value:function(){this.jump(3)}},{key:"idle",value:function(){"jump"!==this.currentState&&(this.facing===o?this.animationManager.runQueue("idle-left"):this.facing===r&&this.animationManager.runQueue("idle-right"),this.currentState=a)}},{key:"jump",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"jump"!==this.currentState&&(this.currentState="jump",this.facing===o?this.animationManager.runQueue("jump-left"):this.facing===r&&this.animationManager.runQueue("jump-right"),this.stay(300).then(function(){return t.bounce(e,{time:700})}).then(function(){t.currentState=0}))}},{key:"stop",value:function(){this.animationManager.stopAllQueues()}}])&&dt(n.prototype,i),u&&dt(n,u),e}())({id:"velo",layer:new N({id:"velo",x:128,y:128,zIndex:2,width:196,height:197.5})});function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.character=e,this.keysDown={a:!1,A:!1,ArrowLeft:!1,d:!1,D:!1,ArrowRight:!1,w:!1,W:!1,ArrowUp:!1,s:!1,S:!1,ArrowDown:!1,k:!1,K:!1,Enter:!1," ":!1}}var e,n,i;return e=t,(n=[{key:"init",value:function(){document.body.addEventListener("keydown",this.handleKeyDown.bind(this)),document.body.addEventListener("keyup",this.handleKeyUp.bind(this)),document.body.addEventListener("mousedown",this.handleMouseDown.bind(this))}},{key:"resetKeysDown",value:function(){for(var t in this.keysDown)this.keysDown[t]=!1}},{key:"isWalkKeyDown",value:function(t){var e=this.keysDown.w||this.keysDown.W||this.keysDown.ArrowUp,n=this.keysDown.a||this.keysDown.A||this.keysDown.ArrowLeft,i=this.keysDown.s||this.keysDown.S||this.keysDown.ArrowDown,a=this.keysDown.d||this.keysDown.D||this.keysDown.ArrowRight;return 1===t?e:t===o?n:3===t?i:t===r?a:e||n||i||a}},{key:"isJumpKeyDown",value:function(){return this.keysDown[" "]}},{key:"isAttackKeyDown",value:function(){return this.keysDown.k||this.keysDown.K||this.keysDown.Enter}},{key:"handleKeysOfAttack",value:function(){this.isAttackKeyDown()&&this.character.attack()}},{key:"handleKeysOfWalkAndJump",value:function(){this.isWalkKeyDown(1)?this.isJumpKeyDown()?this.character.jumpUp():this.character.walk(1):this.isWalkKeyDown(o)?this.isJumpKeyDown()?this.character.jumpLeft():this.character.walk(o):this.isWalkKeyDown(3)?this.isJumpKeyDown()?this.character.jumpDown():this.character.walk(3):this.isWalkKeyDown(r)?this.isJumpKeyDown()?this.character.jumpRight():this.character.walk(r):this.isJumpKeyDown()&&this.character.jump()}},{key:"handleKeyDown",value:function(t){t.key in this.keysDown&&(this.keysDown[t.key]=!0,this.handleKeysOfWalkAndJump(),this.handleKeysOfAttack())}},{key:"handleKeyUp",value:function(t){t.key in this.keysDown&&("walk"===this.character.currentState&&this.character.stopWalk(),this.keysDown[t.key]=!1)}},{key:"handleMouseDown",value:function(t){t.preventDefault(),this.character.attack()}}])&&kt(e.prototype,n),i&&kt(e,i),t}(),jt=n(7),St=n.n(jt),It=new Image;It.src=St.a;var xt=new at({element:document.getElementById("game"),width:960,height:480,backgroundImage:It});new N({id:"velo",x:128,y:128,zIndex:2,width:196,height:197.5});xt.addObject(wt),xt.init(),new Ot(wt).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9vYmplY3QtbWFuYWdlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3V0aWwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWUvZXZlbnQvZ2FtZS1ldmVudC1tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvd2Fsay5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pZGxlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2F0dGFjay5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9qdW1wLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhY2tncm91bmQtZGV2LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3Nwcml0ZS9zcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9hbmltYXRpb24vYW5pbWF0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvYW5pbWF0aW9uL2FuaW1hdGlvbi1xdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2FuaW1hdGlvbi9hbmltYXRpb24tbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2FuaW1hdGlvbi9zcHJpdGUtYW5pbWF0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvYW5pbWF0aW9uL3N0YXRpYy1zcHJpdGUtYW5pbWF0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvbGF5ZXIvbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9sYXllci9iYWNrZ3JvdW5kLWxheWVyLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvbGF5ZXIvaW1hZ2UtbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9sYXllci9sYXllci1tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZS9vYmplY3QvZ2FtZS1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lL29iamVjdC9nYW1lLW9iamVjdC1tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZS9nYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9jaGFyYWN0ZXJzL3ZlbG8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NoYXJhY3RlcnMvdmVsby1hbmltYXRpb24tbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2hhcmFjdGVycy9jaGFyYWN0ZXItY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWlzYy9iYWNrZ3JvdW5kLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIk9iamVjdE1hbmFnZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiY29udGFpbmVycyIsIl9yZWYiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJpZCIsInByb3AiLCJvYmplY3RDb250YWluZXIiLCJPYmplY3RDb250YWluZXIiLCJwdXNoIiwibWFwIiwiY29udGFpbmVyIiwiQ2xhc3MiLCJfbGVuIiwiYXJncyIsIkFycmF5IiwiX2tleSIsIl9jb25zdHJ1Y3QiLCJfcmVmMiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJjbGFzc05hbWUiLCJjb25zdHJ1Y3RvciIsImdlbmVyYXRlUmFuZG9tQ29sb3IiLCJmbG9vciIsImdlbmVyYXRlUmFuZG9tU3RyaW5nIiwicmVxdWlyZSIsIkdhbWVFdmVudE1hbmFnZXIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsIm9iamVjdHMiLCJoYXBwZW4iLCJSRUZSRVNIX1JBVEUiLCJSSUdIVCIsIkxFRlQiLCJJRExFIiwiU3ByaXRlSW1hZ2UiLCJpbWFnZSIsInNsaWNlV2lkdGgiLCJzbGljZUhlaWdodCIsIm1hdHJpeCIsInJhbmdlIiwibXVsdGlwbGUiLCJjb3VudEluUm93cyIsImNvdW50SW5Db2xzIiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic3ByaXRlSXRlbXMiLCJpbmRleEluUm93IiwiaW5kZXhJbkNvbCIsIml0ZW0iLCJJbWFnZVNsaWNlIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsImoiLCJBbmltYXRpb24iLCJfcmVmJGxheWVyIiwibGF5ZXIiLCJfcmVmJGludGVydmFsIiwiaW50ZXJ2YWwiLCJhbmltYXRpb25fY2xhc3NDYWxsQ2hlY2siLCJhbmltYXRpb25JbnRlcnZhbCIsInRpbWVySWQiLCJpc1N0YXJ0ZWQiLCJjb3VudCIsIl90aGlzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJhbmltYXRlIiwiY2xlYXJUaW1lb3V0IiwiQW5pbWF0aW9uUXVldWUiLCJfcmVmJHByaW9yaXR5IiwicHJpb3JpdHkiLCJfcmVmJGFuaW1hdGlvbnMiLCJhbmltYXRpb25zIiwiYW5pbWF0aW9uX3F1ZXVlX2NsYXNzQ2FsbENoZWNrIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsInN0YXJ0IiwiaW5kZXgiLCJfdGhpczIiLCJ0b3RhbCIsInRoZW4iLCJuZXh0SW5kZXgiLCJydW5PbmVCeU9uZSIsInN0b3AiLCJBbmltYXRpb25NYW5hZ2VyIiwiYW5pbWF0aW9uX21hbmFnZXJfY2xhc3NDYWxsQ2hlY2siLCJhbmltYXRpb25RdWV1ZXMiLCJjdXJyZW50QW5pbWF0aW9uUXVldWUiLCJxdWV1ZSIsIkVycm9yIiwicWlkIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIml0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJjb25jYXQiLCJlcnIiLCJyZXR1cm4iLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJuZXdBbmltYXRpb25RdWV1ZSIsImdldFF1ZXVlIiwicnVuIiwiU3ByaXRlQW5pbWF0aW9uIiwiX3JlZiRyZXBlYXQiLCJyZXBlYXQiLCJfcmVmJHNwcml0ZUltYWdlIiwic3ByaXRlSW1hZ2UiLCJfcmVmJGZsaXAiLCJmbGlwIiwic3ByaXRlX2FuaW1hdGlvbl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsInNwcml0ZV9hbmltYXRpb25fY2xhc3NDYWxsQ2hlY2siLCJzcHJpdGVfYW5pbWF0aW9uX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzcHJpdGVfYW5pbWF0aW9uX2dldFByb3RvdHlwZU9mIiwic2xpY2VDb3VudCIsInNob3VsZFJlcGVhdCIsInNob3VsZEZsaXBJbWFnZSIsImltYWdlU2xpY2VzIiwic2xpY2VJbWFnZXMiLCJzbGljZSIsImltYWdlU2xpY2UiLCJTdGF0aWNTcHJpdGVBbmltYXRpb24iLCJfcmVmJHNsaWNlSW5kZXgiLCJzbGljZUluZGV4IiwiX3JlZiRkdXJhdGlvbiIsImR1cmF0aW9uIiwic3RhdGljX3Nwcml0ZV9hbmltYXRpb25fb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJzdGF0aWNfc3ByaXRlX2FuaW1hdGlvbl9jbGFzc0NhbGxDaGVjayIsInN0YXRpY19zcHJpdGVfYW5pbWF0aW9uX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzdGF0aWNfc3ByaXRlX2FuaW1hdGlvbl9nZXRQcm90b3R5cGVPZiIsInNldFRpbWVvdXQiLCJMYXllciIsInpJbmRleCIsImxheWVyX2NsYXNzQ2FsbENoZWNrIiwiX2hleENvbG9yIiwiVXRpbCIsImNvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIkJhY2tncm91bmRMYXllciIsImJhY2tncm91bmRfbGF5ZXJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJiYWNrZ3JvdW5kX2xheWVyX2NsYXNzQ2FsbENoZWNrIiwiYmFja2dyb3VuZF9sYXllcl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiYmFja2dyb3VuZF9sYXllcl9nZXRQcm90b3R5cGVPZiIsInBhdHRlcm4iLCJjcmVhdGVQYXR0ZXJuIiwiSW1hZ2VMYXllciIsIl9yZWYkaW1hZ2VTbGljZSIsImltYWdlX2xheWVyX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiaW1hZ2VfbGF5ZXJfY2xhc3NDYWxsQ2hlY2siLCJpbWFnZV9sYXllcl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiaW1hZ2VfbGF5ZXJfZ2V0UHJvdG90eXBlT2YiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsImRyYXdJbWFnZSIsIkxheWVyTWFuYWdlciIsInJlZnJlc2hSYXRlIiwibGF5ZXJfbWFuYWdlcl9jbGFzc0NhbGxDaGVjayIsImxheWVycyIsInJlZnJlc2hUaW1lcklkIiwic29ydCIsImEiLCJiIiwic29ydExheWVycyIsImN1cnJlbnRMYXllciIsImRyYXdMYXllciIsInNldFRyYW5zZm9ybSIsImRyYXciLCJJTlRFUlZBTCIsInBhaW50IiwiR2FtZU9iamVjdCIsIl9yZWYkaWQiLCJnYW1lX29iamVjdF9jbGFzc0NhbGxDaGVjayIsImlzQm91bmNlU3RhcnRlZCIsInRpbWUiLCJkaXJlY3Rpb24iLCJOb25lIiwic3RlcCIsIl9yZWYyJHN0YXJ0SGVpZ2h0Iiwic3RhcnRIZWlnaHQiLCJfcmVmMiRzdGVwU2l6ZVgiLCJzdGVwU2l6ZVgiLCJfcmVmMiRzdGVwU2l6ZVkiLCJzdGVwU2l6ZVkiLCJfcmVmMiR0aW1lIiwiX3JlZjIkaW50ZXJ2YWwiLCJlYWNoU3RlcFgiLCJlYWNoU3RlcFkiLCJwYXJzZUludCIsImVhY2hIZWlnaHQiLCJHYW1lT2JqZWN0TWFuYWdlciIsIkdhbWUiLCJlbGVtZW50IiwiYmFja2dyb3VuZEltYWdlIiwiZ2FtZV9jbGFzc0NhbGxDaGVjayIsImdldENvbnRleHQiLCJsYXllck1hbmFnZXIiLCJnYW1lT2JqZWN0TWFuYWdlciIsImJhY2tncm91bmRMYXllciIsImFkZCIsImluaXQiLCJnYW1lT2JqZWN0IiwidmVsbyIsIlZlbG8iLCJ2ZWxvX2NsYXNzQ2FsbENoZWNrIiwidmVsb19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwidmVsb19nZXRQcm90b3R5cGVPZiIsImZhY2luZyIsImFuaW1hdGlvbk1hbmFnZXIiLCJjdXJyZW50U3RhdGUiLCJ3YWxrSW1hZ2UiLCJJbWFnZSIsInNyYyIsIndhbGtJbWFnZVNvdXJjZSIsIndhbGtTcHJpdGVJbWFnZSIsIndhbGtMZWZ0QW5pbWF0aW9uIiwid2Fsa1JpZ2h0QW5pbWF0aW9uIiwiaWRsZUltYWdlIiwiaWRsZUltYWdlU291cmNlIiwiaWRsZVNwcml0ZUltYWdlIiwiaWRsZUxlZnRBbmltYXRpb24iLCJpZGxlUmlnaHRBbmltYXRpb24iLCJqdW1wSW1hZ2UiLCJqdW1wSW1hZ2VTb3VyY2UiLCJqdW1wU3RhcnRTcHJpdGVJbWFnZSIsImp1bXBFbmRTcHJpdGVJbWFnZSIsImp1bXBNaWRkbGVTcHJpdGVJbWFnZSIsImp1bXBMZWZ0U3RhcnRBbmltYXRpb24iLCJqdW1wTGVmdE1pZGRsZUFuaW1hdGlvbiIsImp1bXBMZWZ0RW5kQW5pbWF0aW9uIiwianVtcFJpZ2h0U3RhcnRBbmltYXRpb24iLCJqdW1wUmlnaHRNaWRkbGVBbmltYXRpb24iLCJqdW1wUmlnaHRFbmRBbmltYXRpb24iLCJqdW1wTGVmdEFuaW1hdGlvblF1ZXVlIiwianVtcFJpZ2h0QW5pbWF0aW9uUXVldWUiLCJhdHRhY2tJbWFnZSIsImF0dGFja0ltYWdlU291cmNlIiwiYXR0YWNrU3ByaXRlSW1hZ2UiLCJhdHRhY2tMZWZ0QW5pbWF0aW9uIiwiYXR0YWNrUmlnaHRBbmltYXRpb24iLCJhdHRhY2tMZWZ0QW5pbWF0aW9uUXVldWUiLCJhdHRhY2tSaWdodEFuaW1hdGlvblF1ZXVlIiwiYWRkUXVldWVCeUFuaW1hdGlvbiIsImFkZFF1ZXVlIiwiY3JlYXRlQW5pbWF0aW9uTWFuYWdlciIsImlkbGUiLCJydW5RdWV1ZSIsIm1vdmUiLCJ3YWxrQnlGYWNpbmciLCJ3YWxrIiwianVtcCIsIl90aGlzMyIsInN0YXkiLCJib3VuY2UiLCJzdG9wQWxsUXVldWVzIiwiQ2hhcmFjdGVyQ29udHJvbGxlciIsImNoYXJhY3RlciIsImNoYXJhY3Rlcl9jb250cm9sbGVyX2NsYXNzQ2FsbENoZWNrIiwia2V5c0Rvd24iLCJBIiwiQXJyb3dMZWZ0IiwiRCIsIkFycm93UmlnaHQiLCJ3IiwiVyIsIkFycm93VXAiLCJTIiwiQXJyb3dEb3duIiwiayIsIksiLCJFbnRlciIsIiAiLCJkb2N1bWVudCIsImJvZHkiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZUtleVVwIiwiaGFuZGxlTW91c2VEb3duIiwiaXNVcCIsImlzTGVmdCIsImlzRG93biIsImlzUmlnaHQiLCJpc0F0dGFja0tleURvd24iLCJhdHRhY2siLCJpc1dhbGtLZXlEb3duIiwiaXNKdW1wS2V5RG93biIsImp1bXBVcCIsImp1bXBMZWZ0IiwianVtcERvd24iLCJqdW1wUmlnaHQiLCJldmVudCIsImhhbmRsZUtleXNPZldhbGtBbmRKdW1wIiwiaGFuZGxlS2V5c09mQXR0YWNrIiwic3RvcFdhbGsiLCJwcmV2ZW50RGVmYXVsdCIsImJhY2tncm91bmRJ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cUMsV0FHbkJ0VCxLQUFLbVIsU0FBVWdDLEVBQU05VCxNQUFRLDJDQUlwQjhULEdBR2JBLEVBQU1JLGlCQUVOdlQsS0FBS2lSLFVBQVUyQixtRUN6SW5CMUYsR0FBa0IsSUFBSWtCLE1BQzFCbEIsR0FBZ0JtQixJQUFNbUYsS0NVdEIsSUFBSUMsR0FBTyxJQUFJekcsR0FBTSxDQUVqQkMsUUFBU2dGLFNBQVN5QixlQUFnQixRQUNsQ2pRLE1BQU8sSUFDUEMsT0FBUSxJQUNSd0osZ0JBQWlCQSxLQUlMLElBQUkvQyxFQUFZLENBRTVCN0osR0FBSSxPQUNKaUQsRUFBRyxJQUNIQyxFQUFHLElBQ0g2RixPQUFRLEVBQ1I1RixNQUFPLElBQ1BDLE9BQVEsUUFHWitQLEdBQUtFLFVBQVdoRyxJQUNoQjhGLEdBQUtoRyxPQUVZLElBQUl1RCxHQUFxQnJELElBRS9CRiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG4iLCIvKipcclxuICogQSB1dGlsaXR5IHRvIG1hbmdlciBvYmplY3RzXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TdHJpbmcoKSB7XHJcblxyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoIDM2ICkucmVwbGFjZSggL1teYS16XSsvZywgJycgKTtcclxufVxyXG5cclxuY2xhc3MgT2JqZWN0TWFuYWdlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVycyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZCggb2JqZWN0LCB7IGlkLCBwcm9wIH0gPSB7fSApIHtcclxuXHJcbiAgICAgICAgbGV0IG9iamVjdENvbnRhaW5lciA9IG5ldyBPYmplY3RDb250YWluZXIoIHsgaWQsIHByb3AsIG9iamVjdCB9ICk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJzLnB1c2goIG9iamVjdENvbnRhaW5lciApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCggaWQgKSB7XHJcblxyXG4gICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHRoaXMuY29udGFpbmVycy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIGlkID09PSB0aGlzLmNvbnRhaW5lcnNbIGkgXS5pZCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJzWyBpIF0ub2JqZWN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPYmplY3RzKCkge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJzLm1hcCggY29udGFpbmVyID0+IGNvbnRhaW5lci5vYmplY3QgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVG9kbzogY3JlYXRlIGEgbmV3IG9iamVjdCBhbmQgYWRkIGl0IHRvIHRoZSBjb250YWluZXJzXHJcbiAgICBjcmVhdGUoIENsYXNzLCAuLi5hcmdzICkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IENsYXNzKCAuLi5hcmdzICk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBPYmplY3RDb250YWluZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCB7IGlkLCBwcm9wLCBvYmplY3QgfSApIHtcclxuXHJcbiAgICAgICAgaWYgKCB0eXBlb2YgaWQgPT09ICdzdHJpbmcnICkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggJ2lkJyBpbiBvYmplY3QgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlkID0gb2JqZWN0LmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBnZW5lcmF0ZVJhbmRvbVN0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzWyBwcm9wIF0gPSBvYmplY3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9IHRoaXMub2JqZWN0LmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIE9iamVjdENvbnRhaW5lcixcclxuICAgIE9iamVjdE1hbmFnZXJcclxufTsiLCIvKipcclxuICpcclxuICpAc2VlIHtAbGluayBodHRwczovL3d3dy5wYXVsaXJpc2guY29tLzIwMDkvcmFuZG9tLWhleC1jb2xvci1jb2RlLXNuaXBwZXRzL31cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tQ29sb3IoKSB7XHJcblxyXG4gICAgcmV0dXJuICcjJyArIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAxNjc3NzIxNSApLnRvU3RyaW5nKCAxNiApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVN0cmluZygpIHtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZyggMzYgKS5yZXBsYWNlKCAvW15hLXpdKy9nLCAnJyApO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHJcbiAgICBnZW5lcmF0ZVJhbmRvbUNvbG9yLFxyXG4gICAgZ2VuZXJhdGVSYW5kb21TdHJpbmcsXHJcbn07IiwibGV0IE9iamVjdE1hbmFnZXIgPSByZXF1aXJlKCAnLi4vLi4vb2JqZWN0LW1hbmFnZXInICkuT2JqZWN0TWFuYWdlcjtcclxuXHJcbmNsYXNzIEdhbWVFdmVudE1hbmFnZXIgZXh0ZW5kcyBPYmplY3RNYW5hZ2VyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoIGFyZ3VtZW50cyApO1xyXG4gICAgfVxyXG5cclxuICAgIHJ1biggb2JqZWN0cyApIHtcclxuXHJcbiAgICAgICAgZm9yICggbGV0IGkgPSAwIDsgaSA8IHRoaXMuY29udGFpbmVycy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZ2FtZUV2ZW50ID0gdGhpcy5jb250YWluZXJzWyBpIF0ub2JqZWN0O1xyXG4gICAgICAgICAgICBnYW1lRXZlbnQuaGFwcGVuKCBvYmplY3RzICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgR2FtZUV2ZW50TWFuYWdlclxyXG59XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy80OTFmMGM5NjRiZmNjOGQ2OTNlZDM4ZTU4ZDk1NjRmNC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvYjljMDg2YjhjYmM0YmY0YjgzMWUzOTI0N2Q5YjhiNWYucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzLzIwOWQxYmJmMGQ5Y2U5Mzg4Njg2YmMyN2IxZjJmN2EzLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy8yOTBhNTMxODJmMzQ4OGIxMGQwNTBmZmNiODRhMDBjNy5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvMzg3MGVhNGU1ZjdmZDNkMDVmMGJjNGNiMTk3MTA1NzYucG5nXCI7IiwiY29uc3QgUkVGUkVTSF9SQVRFID0gNjA7XHJcblxyXG5jb25zdCBOT05FID0gMFxyXG5jb25zdCBVUCA9IDE7XHJcbmNvbnN0IFJJR0hUID0gMjtcclxuY29uc3QgRE9XTiA9IDM7XHJcbmNvbnN0IExFRlQgPSA0O1xyXG5cclxuY29uc3QgTU9WRSA9ICdtb3ZlJztcclxuY29uc3QgSURMRSA9ICdpZGxlJztcclxuY29uc3QgV0FMSyA9ICd3YWxrJztcclxuY29uc3QgSlVNUCA9ICdqdW1wJztcclxuY29uc3QgQVRUQUNLID0gJ2F0dGFjayc7XHJcbmNvbnN0IEpVTVBfQVRUQUNLID0gJ2p1bXAtYXR0YWNrJztcclxuXHJcbmV4cG9ydCB7XHJcblxyXG4gICAgUkVGUkVTSF9SQVRFLFxyXG4gICAgXHJcbiAgICBOT05FLFxyXG4gICAgVVAsIFxyXG4gICAgUklHSFQsIFxyXG4gICAgRE9XTiwgXHJcbiAgICBMRUZULFxyXG5cclxuICAgIE1PVkUsXHJcbiAgICBJRExFLFxyXG4gICAgV0FMSyxcclxuICAgIEpVTVAsXHJcbiAgICBBVFRBQ0ssXHJcbn07IiwiLyoqXHJcbiAqIFNwcml0ZVxyXG4gKi9cclxuXHJcbmNsYXNzIFNwcml0ZUltYWdlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggeyBpbWFnZSwgc2xpY2VXaWR0aCwgc2xpY2VIZWlnaHQsIG1hdHJpeCwgcmFuZ2UsIG11bHRpcGxlIH0gKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNsaWNlV2lkdGggPSBzbGljZVdpZHRoO1xyXG4gICAgICAgIHRoaXMuc2xpY2VIZWlnaHQgPSBzbGljZUhlaWdodDtcclxuICAgICAgICB0aGlzLmNvdW50SW5Sb3dzID0gbWF0cml4WyAwIF07XHJcbiAgICAgICAgdGhpcy5jb3VudEluQ29scyA9IG1hdHJpeFsgMSBdO1xyXG4gICAgICAgIHRoaXMuc3RhcnRJbmRleCA9IHJhbmdlID09PSB1bmRlZmluZWQgPyAwIDogcmFuZ2VbIDAgXTtcclxuICAgICAgICB0aGlzLmVuZEluZGV4ID0gcmFuZ2UgPT09IHVuZGVmaW5lZCA/IHRoaXMuY291bnRJblJvd3MgKiB0aGlzLmNvdW50SW5Db2xzIC0gMSA6IHJhbmdlWyAxIF07XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZSA9IG11bHRpcGxlID09PSB1bmRlZmluZWQgPyAxIDogbXVsdGlwbGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2xpY2UoKSB7XHJcblxyXG4gICAgICAgIGxldCBzcHJpdGVJdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKCBsZXQgaSA9IHRoaXMuc3RhcnRJbmRleDsgaSA8PSB0aGlzLmVuZEluZGV4OyBpICsrICApIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpbmRleEluUm93ID0gaSAlIHRoaXMuY291bnRJblJvd3M7XHJcbiAgICAgICAgICAgIGxldCBpbmRleEluQ29sID0gTWF0aC5mbG9vciggaSAvIHRoaXMuY291bnRJblJvd3MgKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gbmV3IEltYWdlU2xpY2UoIHsgXHJcblxyXG4gICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UsXHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnNsaWNlV2lkdGggKiBpbmRleEluUm93LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy5zbGljZUhlaWdodCAqIGluZGV4SW5Db2wsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5zbGljZVdpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnNsaWNlSGVpZ2h0XHJcbiAgICAgICAgICAgIH0gKVxyXG5cclxuICAgICAgICAgICAgZm9yICggbGV0IGogPSAwOyBqIDwgdGhpcy5tdWx0aXBsZTsgaiArKyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzcHJpdGVJdGVtcy5wdXNoKCBpdGVtICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzcHJpdGVJdGVtcztcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSW1hZ2VTbGljZSB7IFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCB7IGltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG5cclxuICAgIFNwcml0ZUltYWdlLFxyXG4gICAgSW1hZ2VTbGljZSxcclxufTsiLCJjbGFzcyBBbmltYXRpb24ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCB7IGxheWVyID0gbnVsbCwgaW50ZXJ2YWwgPSA1MCB9ID0ge30gKSB7XHJcblxyXG4gICAgICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbkludGVydmFsID0gaW50ZXJ2YWw7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJJZCA9IDA7XHJcbiAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvLyBQbGFjZWhvbGRlclxyXG4gICAgYW5pbWF0ZSgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgVE9UQUwgPSAyMDtcclxuXHJcbiAgICAgICAgY29uc3QgZXhlY3V0b3IgPSAoIHJlc29sdmUsIHJlamVjdCApID0+IHsgXHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWVySWQgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5jb3VudCA8IFRPVEFMICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIHRoaXMudGltZXJJZCApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9LCB0aGlzLmFuaW1hdGlvbkludGVydmFsICk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCBleGVjdXRvciApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gXHJcbiAgICAgICAgaWYgKCB0aGlzLmlzU3RhcnRlZCApIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaXNTdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCggdGhpcy50aW1lcklkICk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVySWQgKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7XHJcblxyXG4gICAgQW5pbWF0aW9uXHJcbn0iLCJcclxuY2xhc3MgQW5pbWF0aW9uUXVldWUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCB7IGlkLCBwcmlvcml0eSA9IDEsIGFuaW1hdGlvbnMgPSBbXSB9ICkge1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGFuaW1hdGlvbnM7XHJcbiAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQoIC4uLmFuaW1hdGlvbnMgKSB7XHJcblxyXG4gICAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCggYW5pbWF0aW9uID0+IHsgXHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaCggYW5pbWF0aW9uICk7XHJcbiAgICAgICAgfSApXHJcbiAgICB9XHJcblxyXG4gICAgcnVuVG9nZXRoZXIoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKCBhbmltYXRpb24gPT4ge1xyXG5cclxuICAgICAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KCk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICB0aGlzLmlzU3RhcnRlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcnVuT25lQnlPbmUoIGluZGV4ICkge1xyXG5cclxuICAgICAgICBsZXQgdG90YWwgPSB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICBjb25zdCBleGVjdXRvciA9IHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zWyBpbmRleCBdLnN0YXJ0KCkudGhlbiggKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBuZXh0SW5kZXggPSBpbmRleCArIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBuZXh0SW5kZXggPCB0b3RhbCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5PbmVCeU9uZSggbmV4dEluZGV4ICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoIGV4ZWN1dG9yICk7XHJcbiAgICB9XHJcblxyXG4gICAgcnVuKCkge1xyXG5cclxuICAgICAgICB0aGlzLmlzU3RhcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnJ1bk9uZUJ5T25lKCAwICk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmZvckVhY2goIGFuaW1hdGlvbiA9PiB7XHJcblxyXG4gICAgICAgICAgICBhbmltYXRpb24uc3RvcCgpO1xyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuXHJcbiAgICBBbmltYXRpb25RdWV1ZVxyXG59OyIsImltcG9ydCB7IEFuaW1hdGlvbiB9IGZyb20gJy4vYW5pbWF0aW9uLmpzJztcclxuaW1wb3J0IHsgQW5pbWF0aW9uUXVldWUgfSBmcm9tICcuL2FuaW1hdGlvbi1xdWV1ZS5qcyc7XHJcblxyXG4vKipcclxuICogXHJcbiAqIEV4YW1wbGUgb2YgYW5pbWF0aW9ucyBjb2xsZWN0aW9uXHJcbiAqXHJcbiAqICAgdGhpcy5hbmltYXRpb25zID0gW1xyXG4gKlxyXG4gKiAgICAgICB7IGlkOiAnYW5pbWUtMScsIHByaW9yaXR5OiAyLCBhbmltYXRpb246IHdhbGtBbmltYXRpb24gfSxcclxuICogICAgICAgeyBpZDogJ2FuaW1lLTInLCBwcmlvcml0eTogMCwgYW5pbWF0aW9uOiBqdW1wQW5pbWF0aW9uIH1cclxuICogICBdXHJcbiAqXHJcbiAqIEBUb2RvIFJlbW92ZSBgaWRgIGZyb20gQW5pbWF0aW9uUXVldWUuIEFwcGx5IGBpZGAgaW4gQW5pbWF0aW9uTWFuYWdlclxyXG4gKi9cclxuY2xhc3MgQW5pbWF0aW9uTWFuYWdlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uUXVldWVzID0gW107XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uUXVldWUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFF1ZXVlKCBxdWV1ZSApIHtcclxuXHJcbiAgICAgICAgaWYgKCBxdWV1ZSBpbnN0YW5jZW9mIEFuaW1hdGlvblF1ZXVlICkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25RdWV1ZXMucHVzaCggcXVldWUgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCAnW1ZlbG9dIEFyZ3VtZW50IG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgQW5pbWF0aW9uUXVldWUuXFxuJyApO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFF1ZXVlQnlBbmltYXRpb24oIHsgcWlkLCBwcmlvcml0eSA9IDEsIGFuaW1hdGlvbiB9ICkge1xyXG5cclxuICAgICAgICBmb3IgKCBsZXQgcXVldWUgb2YgdGhpcy5hbmltYXRpb25RdWV1ZXMgKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHF1ZXVlLmlkID09PSBxaWQgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBgW1ZlbG9dIEFuaW1hdGlvbiBhbHJlYWR5IGV4aXN0cy4gQW5pbWF0aW9uIElEOiAke3FpZH1cXG5gICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBxdWV1ZSA9IG5ldyBBbmltYXRpb25RdWV1ZSgge1xyXG5cclxuICAgICAgICAgICAgaWQ6IHFpZCwgXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IFsgYW5pbWF0aW9uIF0sIFxyXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHkgXHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvblF1ZXVlcy5wdXNoKCBxdWV1ZSApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFF1ZXVlKCBxaWQgKSB7XHJcblxyXG4gICAgICAgIGZvciAoIGxldCBxdWV1ZSBvZiB0aGlzLmFuaW1hdGlvblF1ZXVlcyApIHtcclxuXHJcbiAgICAgICAgICAgIGlmICggcXVldWUuaWQgPT09IHFpZCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUnVuIG9ubHkgb25lIHF1ZXVlIG9mIGFuaW1hdGlvbnMuIFdoZW4gdGhlIG1ldGhvZCBpcyBjYWxsZWQsIHRoZSBjdXJyZW50IFxyXG4gICAgICogcnVubmluZyBhbmltYXRpb25zIG9mIGEgcXVldWUgbXVzdCBhbGwgYmUgc3RvcHBlZCwgdW5sZXNzIHRoZSBxdWV1ZSBoYXMgYSBoaWdoZXIgcHJpb3JpdHkuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBydW5RdWV1ZSggcWlkICkge1xyXG5cclxuICAgICAgICBsZXQgbmV3QW5pbWF0aW9uUXVldWUgPSB0aGlzLmdldFF1ZXVlKCBxaWQgKTtcclxuXHJcbiAgICAgICAgaWYgKCBuZXdBbmltYXRpb25RdWV1ZSA9PT0gbnVsbCApIHtcclxuXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggYFtWZWxvXSBBbmltYXRpb24gKElEOiAke3FpZH0pIG5vdCBmb3VuZC5cXG5gICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMuY3VycmVudEFuaW1hdGlvblF1ZXVlICE9PSBudWxsICkge1xyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiBuZXcgYW5pbWF0aW9uIHF1ZXVlJ3MgcHJpb3JpdHkgaXMgbG93ZXIoPikgdGhhbiB0aGUgY3VycmVudCBvbmUuXHJcbiAgICAgICAgICAgIGlmICggbmV3QW5pbWF0aW9uUXVldWUucHJpb3JpdHkgPiB0aGlzLmN1cnJlbnRBbmltYXRpb25RdWV1ZS5wcmlvcml0eSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvblF1ZXVlLnN0b3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uUXVldWUgPSBuZXdBbmltYXRpb25RdWV1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50QW5pbWF0aW9uUXVldWUucnVuKCk7XHJcblxyXG4gICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc3RvcFF1ZXVlKCBxaWQgKSB7XHJcblxyXG4gICAgICAgIGxldCBxdWV1ZSA9IHRoaXMuZ2V0UXVldWUoIHFpZCApO1xyXG5cclxuICAgICAgICBpZiAoIHF1ZXVlID09PSBudWxsICkge1xyXG5cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBgW1ZlbG9dIEFuaW1hdGlvbiAoSUQ6ICR7cWlkfSkgbm90IGZvdW5kLlxcbmAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHF1ZXVlLnN0b3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wQWxsUXVldWVzKCkge1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvblF1ZXVlcy5mb3JFYWNoKCBxdWV1ZSA9PiB7IFxyXG5cclxuICAgICAgICAgICAgcXVldWUuc3RvcCgpO1xyXG5cclxuICAgICAgICB9ICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcblxyXG4gICAgQW5pbWF0aW9uTWFuYWdlcixcclxufSIsImltcG9ydCB7IEFuaW1hdGlvbiB9IGZyb20gJy4vYW5pbWF0aW9uLmpzJztcclxuaW1wb3J0IHsgU3ByaXRlSW1hZ2UgfSBmcm9tICcuLi9zcHJpdGUnO1xyXG5cclxuY2xhc3MgU3ByaXRlQW5pbWF0aW9uIGV4dGVuZHMgQW5pbWF0aW9uIHsgXHJcblxyXG4gICAgY29uc3RydWN0b3IoIHsgcmVwZWF0ID0gdHJ1ZSwgc3ByaXRlSW1hZ2UgPSBudWxsLCBmbGlwID0gZmFsc2UsIC4uLm9iamVjdCB9ICkge1xyXG5cclxuICAgICAgICBzdXBlciggb2JqZWN0ICk7XHJcblxyXG4gICAgICAgIHRoaXMuc2xpY2VDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zaG91bGRSZXBlYXQgPSByZXBlYXQ7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVJbWFnZSA9IHNwcml0ZUltYWdlO1xyXG4gICAgICAgIHRoaXMuc2hvdWxkRmxpcEltYWdlID0gZmxpcDtcclxuXHJcbiAgICAgICAgdGhpcy5pbWFnZVNsaWNlcyA9IHRoaXMuc2xpY2VJbWFnZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzbGljZUltYWdlcygpIHtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLnNwcml0ZUltYWdlID09PSBudWxsIFxyXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5zcHJpdGVJbWFnZSBpbnN0YW5jZW9mIFNwcml0ZUltYWdlID09PSBmYWxzZSApIHtcclxuXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggJ1tWZWxvXSBTcHJpdGVJbWFnZSBub3QgZm91bmQgb3Igbm90IHZhbGlkLlxcbicgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZUltYWdlLnNsaWNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYW5pbWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5sYXllci5zaG91bGRGbGlwSW1hZ2UgPSB0aGlzLnNob3VsZEZsaXBJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgZXhlY3V0b3IgPSByZXNvbHZlID0+IHsgICAgXHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWVySWQgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIuaW1hZ2VTbGljZSA9IHRoaXMuaW1hZ2VTbGljZXNbIHRoaXMuc2xpY2VDb3VudCBdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5zbGljZUNvdW50IDwgdGhpcy5pbWFnZVNsaWNlcy5sZW5ndGggLSAxICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWNlQ291bnQgKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGlzLnNob3VsZFJlcGVhdCA9PT0gZmFsc2UgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGljZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LCB0aGlzLmFuaW1hdGlvbkludGVydmFsICk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCBleGVjdXRvciApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG5cclxuICAgIFNwcml0ZUFuaW1hdGlvblxyXG59IiwiaW1wb3J0IHsgU3ByaXRlQW5pbWF0aW9uIH0gZnJvbSAnLi9zcHJpdGUtYW5pbWF0aW9uLmpzJztcclxuXHJcbmNsYXNzIFN0YXRpY1Nwcml0ZUFuaW1hdGlvbiBleHRlbmRzIFNwcml0ZUFuaW1hdGlvbiB7XHJcblxyXG4gICAgLyoqIFxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gLSBNaWxsaXNlY29uZHMgdG8gZGlzcGxheSB0aGUgaW1hZ2Ugc2xpY2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCB7IHNsaWNlSW5kZXggPSAwLCBkdXJhdGlvbiA9IDEwMDAsIC4uLm9iamVjdCB9ICkge1xyXG5cclxuICAgICAgICBzdXBlciggb2JqZWN0ICk7XHJcblxyXG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgICAgICB0aGlzLnNsaWNlSW5kZXggPSBzbGljZUluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRvZG86IEhhbmRsZSB3aGVuIGRlbGF5IGlzIDAuXHJcbiAgICBhbmltYXRlKCkge1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7IFxyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXllci5pbWFnZVNsaWNlID0gdGhpcy5pbWFnZVNsaWNlc1sgdGhpcy5zbGljZUluZGV4IF07XHJcblxyXG4gICAgICAgIH0sIHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWwgKTtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7IFxyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lcklkID0gc2V0VGltZW91dCggKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG5cclxuICAgICAgICAgICAgfSwgdGhpcy5kdXJhdGlvbiApO1xyXG5cclxuICAgICAgICB9ICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcblxyXG4gICAgU3RhdGljU3ByaXRlQW5pbWF0aW9uXHJcbn07IiwiLyoqXHJcbiAqIExheWVyIG1vZHVsZVxyXG4gKi9cclxuaW1wb3J0IFV0aWwgZnJvbSAnLi4vdXRpbC91dGlsLmpzJztcclxuXHJcbmNsYXNzIExheWVyIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoIHsgaWQsIHgsIHksIHpJbmRleCwgd2lkdGgsIGhlaWdodCB9ICkge1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuekluZGV4ID0gekluZGV4O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5faGV4Q29sb3IgPSBVdGlsLmdlbmVyYXRlUmFuZG9tQ29sb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCBjb250ZXh0ICkge1xyXG5cclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2hleENvbG9yO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoIHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCApO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHtcclxuXHJcbiAgICBMYXllcixcclxuICAgIEltYWdlTGF5ZXJcclxufTsiLCJpbXBvcnQgeyBMYXllciB9IGZyb20gJy4vbGF5ZXIuanMnO1xyXG5cclxuY2xhc3MgQmFja2dyb3VuZExheWVyIGV4dGVuZHMgTGF5ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCB7IGltYWdlLCAuLi5vYmplY3QgfSApIHtcclxuXHJcbiAgICAgICAgc3VwZXIoIG9iamVjdCApO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCBjb250ZXh0ICkge1xyXG5cclxuICAgICAgICBsZXQgcGF0dGVybiA9IGNvbnRleHQuY3JlYXRlUGF0dGVybiggdGhpcy5pbWFnZSwgJ3JlcGVhdCcgKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBwYXR0ZXJuO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoIHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG5cclxuICAgIEJhY2tncm91bmRMYXllcixcclxufTsiLCJpbXBvcnQgeyBMYXllciB9IGZyb20gJy4vbGF5ZXIuanMnO1xyXG5cclxuY2xhc3MgSW1hZ2VMYXllciBleHRlbmRzIExheWVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggeyBpbWFnZVNsaWNlID0gbnVsbCwgZmxpcCA9IGZhbHNlLCAuLi5vYmplY3QgfSApIHtcclxuXHJcbiAgICAgICAgc3VwZXIoIG9iamVjdCApO1xyXG5cclxuICAgICAgICB0aGlzLmltYWdlU2xpY2UgPSBpbWFnZVNsaWNlO1xyXG4gICAgICAgIHRoaXMuc2hvdWxkRmxpcEltYWdlID0gZmxpcDtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KCBjb250ZXh0ICkge1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMuaW1hZ2VTbGljZSA9PT0gbnVsbCApIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5zaG91bGRGbGlwSW1hZ2UgPT09IHRydWUgKSB7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSggdGhpcy53aWR0aCArIHRoaXMueCAqIDIsIDAgKTtcclxuICAgICAgICAgICAgY29udGV4dC5zY2FsZSggLTEsIDEgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSggMCwgMCApO1xyXG4gICAgICAgICAgICBjb250ZXh0LnNjYWxlKCAxLCAxICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZWJ1Z1xyXG4gICAgICAgIC8vIGNvbnRleHQuZmlsbFN0eWxlID0gJ2dyZWVuJztcclxuICAgICAgICAvLyBjb250ZXh0LmZpbGxSZWN0KCB0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQgKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoXHJcblxyXG4gICAgICAgICAgICB0aGlzLmltYWdlU2xpY2UuaW1hZ2UsIFxyXG4gICAgICAgICAgICB0aGlzLmltYWdlU2xpY2UueCxcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVNsaWNlLnksXHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VTbGljZS53aWR0aCxcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVNsaWNlLmhlaWdodCxcclxuICAgICAgICAgICAgdGhpcy54LFxyXG4gICAgICAgICAgICB0aGlzLnksXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuXHJcbiAgICBJbWFnZUxheWVyXHJcbn07IiwiaW1wb3J0IHsgTGF5ZXIgfSBmcm9tICcuL2xheWVyLmpzJztcclxuaW1wb3J0IHsgUkVGUkVTSF9SQVRFIH0gZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcclxuXHJcbmNsYXNzIExheWVyTWFuYWdlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoIGNvbnRleHQsIHJlZnJlc2hSYXRlID0gUkVGUkVTSF9SQVRFICkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFJhdGUgPSByZWZyZXNoUmF0ZTtcclxuICAgICAgICB0aGlzLmxheWVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFRpbWVySWQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgbGF5ZXIgYnkgSURcclxuICAgICAqL1xyXG4gICAgZ2V0KCBpZCApIHtcclxuXHJcbiAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5sYXllcnMubGVuZ3RoOyBpICsrICkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLmxheWVyc1sgaSBdLmlkID09PSBpZCApIHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYXllcnNbIGkgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc29ydExheWVycygpIHtcclxuXHJcbiAgICAgICAgdGhpcy5sYXllcnMuc29ydCggKCBhLCBiICkgPT4gYS56SW5kZXggLSBiLnpJbmRleCApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgbmV3IGxheWVyXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgTmV3bHkgYWRkZWQgbGF5ZXJcclxuICAgICAqL1xyXG4gICAgYWRkKCBsYXllciApIHtcclxuXHJcbiAgICAgICAgdGhpcy5sYXllcnMucHVzaCggbGF5ZXIgKTtcclxuICAgICAgICB0aGlzLnNvcnRMYXllcnMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHBhaW50KCkge1xyXG5cclxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmxheWVycy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3VycmVudExheWVyID0gdGhpcy5sYXllcnNbIGkgXTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3TGF5ZXIoIGN1cnJlbnRMYXllciApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3TGF5ZXIoIGxheWVyICkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKCAxLCAwLCAwLCAxLCAwLCAwICk7XHJcbiAgICAgICAgbGF5ZXIuZHJhdyggdGhpcy5jb250ZXh0ICk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgSU5URVJWQUwgPSBNYXRoLmZsb29yKCAxMDAwIC8gdGhpcy5yZWZyZXNoUmF0ZSApO1xyXG5cclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hUaW1lcklkID0gc2V0SW50ZXJ2YWwoICgpID0+IHsgXHJcblxyXG4gICAgICAgICAgICBjb3VudCArKztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMucGFpbnQoKTtcclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIH0sIElOVEVSVkFMICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpIHtcclxuXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCggdGhpcy5yZWZyZXNoVGltZXJJZCApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG5cclxuICAgIExheWVyTWFuYWdlclxyXG59OyIsImltcG9ydCB7IE5PTkUsIFVQLCBSSUdIVCwgRE9XTiwgTEVGVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCB7IGdlbmVyYXRlUmFuZG9tU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbC91dGlsLmpzJztcclxuXHJcbmNsYXNzIEdhbWVPYmplY3Qge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCB7IGlkID0gZ2VuZXJhdGVSYW5kb21TdHJpbmcoKSwgbGF5ZXIgfSApIHtcclxuXHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcclxuICAgICAgICB0aGlzLmlzQm91bmNlU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVUbyggeCwgeSApIHtcclxuXHJcbiAgICAgICAgdGhpcy5sYXllci54ID0geDtcclxuICAgICAgICB0aGlzLmxheWVyLnkgPSB5O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXkoIHRpbWUgPSAxMDAwICkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoICggcmVzb2x2ZSwgcmVqZWN0ICkgPT4geyBcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoICgpID0+IHJlc29sdmUoKSwgdGltZSApO1xyXG5cclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoIGRpcmVjdGlvbiA9IE5vbmUsIHN0ZXAgPSA1ICkge1xyXG5cclxuICAgICAgICBpZiAoIGRpcmVjdGlvbiA9PT0gVVAgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVyLnkgLT0gc3RlcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIGRpcmVjdGlvbiA9PT0gUklHSFQgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxheWVyLnggKz0gc3RlcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIGRpcmVjdGlvbiA9PT0gRE9XTiApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXIueSArPSBzdGVwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggZGlyZWN0aW9uID09PSBMRUZUICkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXllci54IC09IHN0ZXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoICggcmVzb2x2ZSwgcmVqZWN0ICkgPT4geyBcclxuXHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9IClcclxuICAgIH1cclxuXHJcbiAgICBib3VuY2UoIGRpcmVjdGlvbiA9IE5PTkUsIHsgc3RhcnRIZWlnaHQgPSA1MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwU2l6ZVggPSA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplWSA9IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IDUwMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSAyMCB9ID0ge30gKSB7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5pc0JvdW5jZVN0YXJ0ZWQgKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmlzQm91bmNlU3RhcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGxldCBlYWNoU3RlcFggPSAwO1xyXG4gICAgICAgIGxldCBlYWNoU3RlcFkgPSAwO1xyXG5cclxuICAgICAgICBpZiAoIGRpcmVjdGlvbiA9PT0gTEVGVCApIHtcclxuXHJcbiAgICAgICAgICAgIGVhY2hTdGVwWCA9IC1zdGVwU2l6ZVg7XHJcbiAgICAgICAgICAgIGVhY2hTdGVwWSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBkaXJlY3Rpb24gPT09IFJJR0hUICkge1xyXG5cclxuICAgICAgICAgICAgZWFjaFN0ZXBYID0gc3RlcFNpemVYO1xyXG4gICAgICAgICAgICBlYWNoU3RlcFkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCBkaXJlY3Rpb24gPT09IFVQICkge1xyXG5cclxuICAgICAgICAgICAgZWFjaFN0ZXBYID0gMDtcclxuICAgICAgICAgICAgZWFjaFN0ZXBZID0gc3RlcFNpemVZO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCBkaXJlY3Rpb24gPT09IERPV04gKSB7XHJcblxyXG4gICAgICAgICAgICBlYWNoU3RlcFggPSAwO1xyXG4gICAgICAgICAgICBlYWNoU3RlcFkgPSAtc3RlcFNpemVZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRvdGFsID0gcGFyc2VJbnQoICggdGltZSAvIDIgKSAvIGludGVydmFsLCAxMCApO1xyXG4gICAgICAgIGxldCBjb3VudCA9IDE7XHJcblxyXG4gICAgICAgIGNvbnN0IGV4ZWN1dG9yID0gKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGltZXJJZCA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCBjb3VudCA8IHRvdGFsICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWFjaEhlaWdodCA9IHBhcnNlSW50KCBzdGFydEhlaWdodCAvIGNvdW50ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXllci55IC09ICggZWFjaEhlaWdodCArIGVhY2hTdGVwWSApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIueCArPSBlYWNoU3RlcFg7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQgKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIHRpbWVySWQgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXJJZCA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCAtLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY291bnQgPiAwICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlYWNoSGVpZ2h0ID0gcGFyc2VJbnQoIHN0YXJ0SGVpZ2h0IC8gY291bnQgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIueSArPSAoIGVhY2hIZWlnaHQgLSBlYWNoU3RlcFkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXIueCArPSBlYWNoU3RlcFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKCB0aW1lcklkICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQm91bmNlU3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGludGVydmFsICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9LCBpbnRlcnZhbCApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggZXhlY3V0b3IgKTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge1xyXG5cclxuICAgIEdhbWVPYmplY3RcclxufTsiLCJpbXBvcnQgeyBPYmplY3RNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vb2JqZWN0LW1hbmFnZXInO1xyXG5cclxuY2xhc3MgR2FtZU9iamVjdE1hbmFnZXIgZXh0ZW5kcyBPYmplY3RNYW5hZ2VyIHtcclxuXHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IHtcclxuXHJcbiAgICBHYW1lT2JqZWN0TWFuYWdlclxyXG59OyIsImltcG9ydCB7IEJhY2tncm91bmRMYXllciwgTGF5ZXJNYW5hZ2VyLCBJbWFnZUxheWVyIH0gZnJvbSAnLi4vbGF5ZXInO1xyXG5pbXBvcnQgeyBHYW1lT2JqZWN0TWFuYWdlciB9IGZyb20gJy4vb2JqZWN0JztcclxuXHJcbmNsYXNzIEdhbWUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCB7IGVsZW1lbnQsIHdpZHRoLCBoZWlnaHQsIGJhY2tncm91bmRJbWFnZSB9ICkge1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IGJhY2tncm91bmRJbWFnZTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LndpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5lbGVtZW50LmdldENvbnRleHQoICcyZCcgKTtcclxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlciA9IG5ldyBMYXllck1hbmFnZXIoIHRoaXMuY29udGV4dCApO1xyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdE1hbmFnZXIgPSBuZXcgR2FtZU9iamVjdE1hbmFnZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICBsZXQgYmFja2dyb3VuZExheWVyID0gbmV3IEJhY2tncm91bmRMYXllciggeyBcclxuXHJcbiAgICAgICAgICAgIGlkOiAnYmFja2dyb3VuZCcsXHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgIHpJbmRleDogMCxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXHJcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLmJhY2tncm91bmRJbWFnZVxyXG4gICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgdGhpcy5sYXllck1hbmFnZXIuYWRkKCBiYWNrZ3JvdW5kTGF5ZXIgKTtcclxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkT2JqZWN0KCBnYW1lT2JqZWN0ICkge1xyXG5cclxuICAgICAgICB0aGlzLmxheWVyTWFuYWdlci5hZGQoIGdhbWVPYmplY3QubGF5ZXIgKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3RNYW5hZ2VyLmFkZCggZ2FtZU9iamVjdCApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG5cclxuICAgIEdhbWVcclxufTsiLCJpbXBvcnQgeyBOT05FLCBVUCwgUklHSFQsIERPV04sIExFRlQsIElETEUsIFdBTEssIEpVTVAsIEFUVEFDSyB9IGZyb20gJy4uL2VuZ2luZS9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBTcHJpdGVJbWFnZSB9IGZyb20gJy4uL2VuZ2luZS9zcHJpdGUnO1xyXG5pbXBvcnQgeyBBbmltYXRpb25NYW5hZ2VyLCBBbmltYXRpb25RdWV1ZSwgU3ByaXRlQW5pbWF0aW9uLCBNb3ZlQW5pbWF0aW9uIH0gZnJvbSAnLi4vZW5naW5lL2FuaW1hdGlvbic7XHJcbmltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuLi9lbmdpbmUvZ2FtZSc7XHJcbmltcG9ydCB7IGNyZWF0ZUFuaW1hdGlvbk1hbmFnZXIgfSBmcm9tICcuL3ZlbG8tYW5pbWF0aW9uLW1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBJbWFnZUxheWVyIH0gZnJvbSAnLi4vZW5naW5lL2xheWVyJztcclxuXHJcbmNsYXNzIFZlbG8gZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggbGF5ZXIgKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3VwZXIoIGxheWVyICk7XHJcblxyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gUklHSFQ7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25NYW5hZ2VyID0gbmV3IEFuaW1hdGlvbk1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IElETEU7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlciA9IGNyZWF0ZUFuaW1hdGlvbk1hbmFnZXIoIHRoaXMubGF5ZXIgKTtcclxuICAgICAgICB0aGlzLmlkbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB3YWxrQnlGYWNpbmcoKSB7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5jdXJyZW50U3RhdGUgPT09IFdBTEsgKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IFdBTEs7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5mYWNpbmcgPT09IExFRlQgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk1hbmFnZXIucnVuUXVldWUoICd3YWxrLWxlZnQnICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCB0aGlzLmZhY2luZyA9PT0gUklHSFQgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk1hbmFnZXIucnVuUXVldWUoICd3YWxrLXJpZ2h0JyApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdG9wV2FsaygpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pZGxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FsayggZGlyZWN0aW9uICkge1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMuY3VycmVudFN0YXRlID09PSBKVU1QIHx8IHRoaXMuY3VycmVudFN0YXRlID09PSBBVFRBQ0sgKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIGRpcmVjdGlvbiA9PT0gTEVGVCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gTEVGVDtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlKCBMRUZUICk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggZGlyZWN0aW9uID09PSBSSUdIVCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gUklHSFQ7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZSggUklHSFQgKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBkaXJlY3Rpb24gPT09IFVQICkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tb3ZlKCBVUCApO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIGRpcmVjdGlvbiA9PT0gRE9XTiApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubW92ZSggRE9XTiApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy53YWxrQnlGYWNpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICB3YWxrTGVmdCgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2FsayggTEVGVCApO1xyXG4gICAgfVxyXG5cclxuICAgIHdhbGtSaWdodCgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2FsayggUklHSFQgKTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2soIGRpcmVjdGlvbiApIHtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gQVRUQUNLICkge1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBBVFRBQ0s7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5mYWNpbmcgPT09IExFRlQgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk1hbmFnZXIucnVuUXVldWUoICdhdHRhY2stbGVmdCcgKS50aGVuKCAoKSA9PiB7IFxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaWRsZSgpO1xyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCB0aGlzLmZhY2luZyA9PT0gUklHSFQgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk1hbmFnZXIucnVuUXVldWUoICdhdHRhY2stcmlnaHQnICkudGhlbiggKCkgPT4geyBcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkbGUoKTtcclxuICAgICAgICAgICAgfSApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAganVtcExlZnQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gTEVGVDtcclxuICAgICAgICB0aGlzLmp1bXAoIExFRlQgKTtcclxuICAgIH1cclxuXHJcbiAgICBqdW1wUmlnaHQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gUklHSFQ7XHJcbiAgICAgICAgdGhpcy5qdW1wKCBSSUdIVCApO1xyXG4gICAgfVxyXG5cclxuICAgIGp1bXBVcCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5qdW1wKCBVUCApO1xyXG4gICAgfVxyXG5cclxuICAgIGp1bXBEb3duKCkge1xyXG5cclxuICAgICAgICB0aGlzLmp1bXAoIERPV04gKTtcclxuICAgIH1cclxuXHJcbiAgICBpZGxlKCkge1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMuY3VycmVudFN0YXRlID09PSBKVU1QICkge1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmZhY2luZyA9PT0gTEVGVCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlci5ydW5RdWV1ZSggJ2lkbGUtbGVmdCcgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIHRoaXMuZmFjaW5nID09PSBSSUdIVCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlci5ydW5RdWV1ZSggJ2lkbGUtcmlnaHQnICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IElETEU7XHJcbiAgICB9XHJcblxyXG4gICAganVtcCggZGlyZWN0aW9uID0gTk9ORSApIHtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gSlVNUCApIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gSlVNUDtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmZhY2luZyA9PT0gTEVGVCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlci5ydW5RdWV1ZSggJ2p1bXAtbGVmdCcgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIHRoaXMuZmFjaW5nID09PSBSSUdIVCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlci5ydW5RdWV1ZSggJ2p1bXAtcmlnaHQnICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXkoIDMwMCApXHJcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmJvdW5jZSggZGlyZWN0aW9uLCB7IHRpbWU6IDcwMCB9ICkgKVxyXG4gICAgICAgICAgICAudGhlbiggKCkgPT4geyB0aGlzLmN1cnJlbnRTdGF0ZSA9IE5PTkUgfSApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uTWFuYWdlci5zdG9wQWxsUXVldWVzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5sZXQgdmVsb0xheWVyID0gbmV3IEltYWdlTGF5ZXIoIHtcclxuXHJcbiAgICBpZDogJ3ZlbG8nLFxyXG4gICAgeDogMTI4LFxyXG4gICAgeTogMTI4LFxyXG4gICAgekluZGV4OiAyLFxyXG4gICAgd2lkdGg6IDE5NixcclxuICAgIGhlaWdodDogMTk3LjUsXHJcbn0gKTtcclxuXHJcbmxldCB2ZWxvID0gbmV3IFZlbG8oIHsgaWQ6ICd2ZWxvJywgbGF5ZXI6IHZlbG9MYXllciB9ICk7XHJcblxyXG5leHBvcnQge1xyXG4gICAgXHJcbiAgICB2ZWxvXHJcbn07XHJcblxyXG4iLCJpbXBvcnQgeyBBbmltYXRpb25NYW5hZ2VyLCBTcHJpdGVBbmltYXRpb24sIFN0YXRpY1Nwcml0ZUFuaW1hdGlvbiwgQW5pbWF0aW9uUXVldWUgfSBmcm9tICcuLi9lbmdpbmUvYW5pbWF0aW9uJztcclxuaW1wb3J0IHsgU3ByaXRlSW1hZ2UgfSBmcm9tICcuLi9lbmdpbmUvc3ByaXRlJztcclxuXHJcbmltcG9ydCB3YWxrSW1hZ2VTb3VyY2UgZnJvbSAnLi4vYXNzZXRzL3dhbGsucG5nJztcclxuaW1wb3J0IGlkbGVJbWFnZVNvdXJjZSBmcm9tICcuLi9hc3NldHMvaWRsZS5wbmcnO1xyXG5pbXBvcnQgYXR0YWNrSW1hZ2VTb3VyY2UgZnJvbSAnLi4vYXNzZXRzL2F0dGFjay5wbmcnO1xyXG5pbXBvcnQganVtcEltYWdlU291cmNlIGZyb20gJy4uL2Fzc2V0cy9qdW1wLnBuZyc7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVBbmltYXRpb25NYW5hZ2VyKCBsYXllciApIHtcclxuXHJcbiAgICBsZXQgYW5pbWF0aW9uTWFuYWdlciA9IG5ldyBBbmltYXRpb25NYW5hZ2VyKCk7XHJcbiAgICBsZXQgc3ByaXRlU2xpY2VXaWR0aCA9IDE5NjtcclxuICAgIGxldCBzcHJpdGVTbGljZUhlaWdodCA9IDE5Ny41O1xyXG5cclxuLyogV2FsayBpbWFnZXMgYW5kIGFuaW1hdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIGxldCB3YWxrSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIHdhbGtJbWFnZS5zcmMgPSB3YWxrSW1hZ2VTb3VyY2U7XHJcblxyXG4gICAgbGV0IHdhbGtTcHJpdGVJbWFnZSA9IG5ldyBTcHJpdGVJbWFnZSggeyBcclxuXHJcbiAgICAgICAgaW1hZ2U6IHdhbGtJbWFnZSxcclxuICAgICAgICBzbGljZVdpZHRoOiBzcHJpdGVTbGljZVdpZHRoLFxyXG4gICAgICAgIHNsaWNlSGVpZ2h0OiBzcHJpdGVTbGljZUhlaWdodCxcclxuICAgICAgICBtYXRyaXg6IFsgNCwgNCBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgbGV0IHdhbGtMZWZ0QW5pbWF0aW9uID0gbmV3IFNwcml0ZUFuaW1hdGlvbiggeyBsYXllcjogbGF5ZXIsIHNwcml0ZUltYWdlOiB3YWxrU3ByaXRlSW1hZ2UgfSApO1xyXG4gICAgbGV0IHdhbGtSaWdodEFuaW1hdGlvbiA9IG5ldyBTcHJpdGVBbmltYXRpb24oIHsgbGF5ZXI6IGxheWVyLCBmbGlwOiB0cnVlLCBzcHJpdGVJbWFnZTogd2Fsa1Nwcml0ZUltYWdlIH0gKTtcclxuXHJcbi8qIElkbGUgaW1hZ2VzIGFuZCBhbmltYXRpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICBsZXQgaWRsZUltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBpZGxlSW1hZ2Uuc3JjID0gaWRsZUltYWdlU291cmNlO1xyXG5cclxuICAgIGxldCBpZGxlU3ByaXRlSW1hZ2UgPSBuZXcgU3ByaXRlSW1hZ2UoIHsgXHJcblxyXG4gICAgICAgIGltYWdlOiBpZGxlSW1hZ2UsXHJcbiAgICAgICAgc2xpY2VXaWR0aDogc3ByaXRlU2xpY2VXaWR0aCxcclxuICAgICAgICBzbGljZUhlaWdodDogc3ByaXRlU2xpY2VIZWlnaHQsXHJcbiAgICAgICAgbWF0cml4OiBbIDQsIDUgXVxyXG4gICAgfSApO1xyXG4gXHJcblxyXG4gICAgbGV0IGlkbGVMZWZ0QW5pbWF0aW9uID0gbmV3IFNwcml0ZUFuaW1hdGlvbiggeyBsYXllcjogbGF5ZXIsIHNwcml0ZUltYWdlOiBpZGxlU3ByaXRlSW1hZ2UgfSApO1xyXG4gICAgbGV0IGlkbGVSaWdodEFuaW1hdGlvbiA9IG5ldyBTcHJpdGVBbmltYXRpb24oIHsgbGF5ZXI6IGxheWVyLCBmbGlwOiB0cnVlLCBzcHJpdGVJbWFnZTogaWRsZVNwcml0ZUltYWdlIH0gKTtcclxuXHJcblxyXG4vKiBKdW1wIGltYWdlcyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgbGV0IGp1bXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAganVtcEltYWdlLnNyYyA9IGp1bXBJbWFnZVNvdXJjZTtcclxuXHJcbiAgICAvLyA1MCAqIDcgPSAzNTAgbXNcclxuICAgIGxldCBqdW1wU3RhcnRTcHJpdGVJbWFnZSA9IG5ldyBTcHJpdGVJbWFnZSggeyBcclxuXHJcbiAgICAgICAgaW1hZ2U6IGp1bXBJbWFnZSxcclxuICAgICAgICBzbGljZVdpZHRoOiBzcHJpdGVTbGljZVdpZHRoLFxyXG4gICAgICAgIHNsaWNlSGVpZ2h0OiBzcHJpdGVTbGljZUhlaWdodCxcclxuICAgICAgICBtYXRyaXg6IFsgNCwgMyBdLFxyXG4gICAgICAgIHJhbmdlOiBbIDAsIDYgXVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIDUwICogNCA9IDIwMCBtcztcclxuICAgIGxldCBqdW1wRW5kU3ByaXRlSW1hZ2UgPSBuZXcgU3ByaXRlSW1hZ2UoIHsgXHJcblxyXG4gICAgICAgIGltYWdlOiBqdW1wSW1hZ2UsXHJcbiAgICAgICAgc2xpY2VXaWR0aDogc3ByaXRlU2xpY2VXaWR0aCxcclxuICAgICAgICBzbGljZUhlaWdodDogc3ByaXRlU2xpY2VIZWlnaHQsXHJcbiAgICAgICAgbWF0cml4OiBbIDQsIDMgXSxcclxuICAgICAgICByYW5nZTogWyA4LCAxMSBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gU2hvdWxkIGJlIHRpbWUgb2YgKCBzdGF5ICsgYm91bmNlIC0gMzUwIC0gMjUwIC0gZGVsYXkgKSA9IDMwMCArIDEwMDAgLSAzNTAgLSAyMDAgLSA1MCA9IDcwMFxyXG4gICAgbGV0IGp1bXBNaWRkbGVTcHJpdGVJbWFnZSA9IG5ldyBTcHJpdGVJbWFnZSggeyBcclxuXHJcbiAgICAgICAgaW1hZ2U6IGp1bXBJbWFnZSxcclxuICAgICAgICBzbGljZVdpZHRoOiBzcHJpdGVTbGljZVdpZHRoLFxyXG4gICAgICAgIHNsaWNlSGVpZ2h0OiBzcHJpdGVTbGljZUhlaWdodCxcclxuICAgICAgICBtYXRyaXg6IFsgNCwgMyBdXHJcbiAgICB9ICk7XHJcblxyXG4vKiBKdW1wIGFuaW1hdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgbGV0IGp1bXBNaWRkbGVEdXJhdGlvbiA9IDUwMDtcclxuXHJcbiAgICBsZXQganVtcExlZnRTdGFydEFuaW1hdGlvbiA9IG5ldyBTcHJpdGVBbmltYXRpb24oIHtcclxuXHJcbiAgICAgICAgbGF5ZXI6IGxheWVyLCBcclxuICAgICAgICByZXBlYXQ6IGZhbHNlLCBcclxuICAgICAgICBzcHJpdGVJbWFnZToganVtcFN0YXJ0U3ByaXRlSW1hZ2UsXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gUmVmZXIgdG8ganVtcE1pZGRsZVNwcml0ZUltYWdlIGNvbW1lbnRzXHJcbiAgICBsZXQganVtcExlZnRNaWRkbGVBbmltYXRpb24gPSBuZXcgU3RhdGljU3ByaXRlQW5pbWF0aW9uKCB7IFxyXG5cclxuICAgICAgICBsYXllcjogbGF5ZXIsIFxyXG4gICAgICAgIHJlcGVhdDogZmFsc2UsIFxyXG4gICAgICAgIHNwcml0ZUltYWdlOiBqdW1wTWlkZGxlU3ByaXRlSW1hZ2UsXHJcbiAgICAgICAgc2xpY2VJbmRleDogNyxcclxuICAgICAgICBkdXJhdGlvbjoganVtcE1pZGRsZUR1cmF0aW9uLFxyXG4gICAgfSApO1xyXG5cclxuICAgIGxldCBqdW1wTGVmdEVuZEFuaW1hdGlvbiA9IG5ldyBTcHJpdGVBbmltYXRpb24oIHsgXHJcblxyXG4gICAgICAgIGxheWVyOiBsYXllcixcclxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgIHNwcml0ZUltYWdlOiBqdW1wRW5kU3ByaXRlSW1hZ2UsXHJcbiAgICB9IClcclxuXHJcbiAgICBsZXQganVtcFJpZ2h0U3RhcnRBbmltYXRpb24gPSBuZXcgU3ByaXRlQW5pbWF0aW9uKCB7XHJcblxyXG4gICAgICAgIGxheWVyOiBsYXllciwgXHJcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcclxuICAgICAgICBmbGlwOiB0cnVlLFxyXG4gICAgICAgIHNwcml0ZUltYWdlOiBqdW1wU3RhcnRTcHJpdGVJbWFnZSwgXHJcbiAgICB9ICk7XHJcblxyXG4gICAgbGV0IGp1bXBSaWdodE1pZGRsZUFuaW1hdGlvbiA9IG5ldyBTdGF0aWNTcHJpdGVBbmltYXRpb24oIHsgXHJcblxyXG4gICAgICAgIGxheWVyOiBsYXllciwgXHJcbiAgICAgICAgcmVwZWF0OiBmYWxzZSwgXHJcbiAgICAgICAgc3ByaXRlSW1hZ2U6IGp1bXBNaWRkbGVTcHJpdGVJbWFnZSxcclxuICAgICAgICBzbGljZUluZGV4OiA3LFxyXG4gICAgICAgIGR1cmF0aW9uOiBqdW1wTWlkZGxlRHVyYXRpb24sXHJcbiAgICAgICAgZmxpcDogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIGxldCBqdW1wUmlnaHRFbmRBbmltYXRpb24gPSBuZXcgU3ByaXRlQW5pbWF0aW9uKCB7IFxyXG5cclxuICAgICAgICBsYXllcjogbGF5ZXIsXHJcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcclxuICAgICAgICBzcHJpdGVJbWFnZToganVtcEVuZFNwcml0ZUltYWdlLFxyXG4gICAgICAgIGZsaXA6IHRydWUsXHJcbiAgICB9ICk7XHJcblxyXG5cclxuICAgIGxldCBqdW1wTGVmdEFuaW1hdGlvblF1ZXVlID0gbmV3IEFuaW1hdGlvblF1ZXVlKCB7XHJcblxyXG4gICAgICAgIGlkOiAnanVtcC1sZWZ0JyxcclxuICAgICAgICBhbmltYXRpb25zOiBbIFxyXG5cclxuICAgICAgICAgICAganVtcExlZnRTdGFydEFuaW1hdGlvbiwgXHJcbiAgICAgICAgICAgIGp1bXBMZWZ0TWlkZGxlQW5pbWF0aW9uLCBcclxuICAgICAgICAgICAganVtcExlZnRFbmRBbmltYXRpb24sIFxyXG4gICAgICAgICAgICBpZGxlTGVmdEFuaW1hdGlvbiBcclxuICAgICAgICBdXHJcblxyXG4gICAgfSApO1xyXG5cclxuICAgIGxldCBqdW1wUmlnaHRBbmltYXRpb25RdWV1ZSA9IG5ldyBBbmltYXRpb25RdWV1ZSgge1xyXG5cclxuICAgICAgICBpZDogJ2p1bXAtcmlnaHQnLFxyXG4gICAgICAgIGFuaW1hdGlvbnM6IFtcclxuXHJcbiAgICAgICAgICAgIGp1bXBSaWdodFN0YXJ0QW5pbWF0aW9uLCBcclxuICAgICAgICAgICAganVtcFJpZ2h0TWlkZGxlQW5pbWF0aW9uLCBcclxuICAgICAgICAgICAganVtcFJpZ2h0RW5kQW5pbWF0aW9uLCBcclxuICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbWF0aW9uIFxyXG4gICAgICAgIF1cclxuICAgIH0gKTtcclxuXHJcbi8qIEF0dGFjayBpbWFnZXMgYW5kIGFuaW1hdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIFxyXG4gICAgbGV0IGF0dGFja0ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICBhdHRhY2tJbWFnZS5zcmMgPSBhdHRhY2tJbWFnZVNvdXJjZTtcclxuXHJcbiAgICBsZXQgYXR0YWNrU3ByaXRlSW1hZ2UgPSBuZXcgU3ByaXRlSW1hZ2UoIHsgXHJcblxyXG4gICAgICAgIGltYWdlOiBhdHRhY2tJbWFnZSxcclxuICAgICAgICBzbGljZVdpZHRoOiBzcHJpdGVTbGljZVdpZHRoLFxyXG4gICAgICAgIHNsaWNlSGVpZ2h0OiBzcHJpdGVTbGljZUhlaWdodCxcclxuICAgICAgICBtYXRyaXg6IFsgNCwgMiBdXHJcbiAgICB9ICk7XHJcblxyXG4gICAgbGV0IGF0dGFja0xlZnRBbmltYXRpb24gPSBuZXcgU3ByaXRlQW5pbWF0aW9uKCB7IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGxheWVyOiBsYXllciwgXHJcbiAgICAgICAgc3ByaXRlSW1hZ2U6IGF0dGFja1Nwcml0ZUltYWdlLCBcclxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxyXG4gICAgICAgIGludGVydmFsOiA1MCxcclxuICAgIH0gKTtcclxuICAgIFxyXG4gICAgbGV0IGF0dGFja1JpZ2h0QW5pbWF0aW9uID0gbmV3IFNwcml0ZUFuaW1hdGlvbiggeyBcclxuXHJcbiAgICAgICAgbGF5ZXI6IGxheWVyLCBcclxuICAgICAgICBmbGlwOiB0cnVlLCBcclxuICAgICAgICBzcHJpdGVJbWFnZTogYXR0YWNrU3ByaXRlSW1hZ2UsIFxyXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXHJcbiAgICAgICAgaW50ZXJ2YWw6IDUwLFxyXG4gICAgfSApO1xyXG5cclxuICAgIGxldCBhdHRhY2tMZWZ0QW5pbWF0aW9uUXVldWUgPSBuZXcgQW5pbWF0aW9uUXVldWUoIHtcclxuXHJcbiAgICAgICAgaWQ6ICdhdHRhY2stbGVmdCcsXHJcbiAgICAgICAgYW5pbWF0aW9uczogWyBcclxuICAgICAgICBcclxuICAgICAgICAgICAgYXR0YWNrTGVmdEFuaW1hdGlvbixcclxuICAgICAgICAgICAgLy8gaWRsZUxlZnRBbmltYXRpb24gXHJcbiAgICAgICAgXVxyXG4gICAgfSApO1xyXG5cclxuICAgIGxldCBhdHRhY2tSaWdodEFuaW1hdGlvblF1ZXVlID0gbmV3IEFuaW1hdGlvblF1ZXVlKCB7XHJcblxyXG4gICAgICAgIGlkOiAnYXR0YWNrLXJpZ2h0JyxcclxuICAgICAgICBhbmltYXRpb25zOiBbXHJcblxyXG4gICAgICAgICAgICBhdHRhY2tSaWdodEFuaW1hdGlvbixcclxuICAgICAgICAgICAgLy8gaWRsZVJpZ2h0QW5pbWF0aW9uIFxyXG4gICAgICAgIF1cclxuICAgIH0gKTtcclxuXHJcblxyXG4vKiBBZGQgYW5pbWF0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgYW5pbWF0aW9uTWFuYWdlci5hZGRRdWV1ZUJ5QW5pbWF0aW9uKCB7IHFpZDogJ3dhbGstbGVmdCcsIGFuaW1hdGlvbjogd2Fsa0xlZnRBbmltYXRpb24gfSApO1xyXG4gICAgYW5pbWF0aW9uTWFuYWdlci5hZGRRdWV1ZUJ5QW5pbWF0aW9uKCB7IHFpZDogJ3dhbGstcmlnaHQnLCBhbmltYXRpb246IHdhbGtSaWdodEFuaW1hdGlvbiB9ICk7XHJcbiAgICBhbmltYXRpb25NYW5hZ2VyLmFkZFF1ZXVlQnlBbmltYXRpb24oIHsgcWlkOiAnaWRsZS1sZWZ0JywgYW5pbWF0aW9uOiBpZGxlTGVmdEFuaW1hdGlvbiB9ICk7XHJcbiAgICBhbmltYXRpb25NYW5hZ2VyLmFkZFF1ZXVlQnlBbmltYXRpb24oIHsgcWlkOiAnaWRsZS1yaWdodCcsIGFuaW1hdGlvbjogaWRsZVJpZ2h0QW5pbWF0aW9uIH0gKTtcclxuICAgIGFuaW1hdGlvbk1hbmFnZXIuYWRkUXVldWUoIGp1bXBMZWZ0QW5pbWF0aW9uUXVldWUgKTtcclxuICAgIGFuaW1hdGlvbk1hbmFnZXIuYWRkUXVldWUoIGp1bXBSaWdodEFuaW1hdGlvblF1ZXVlICk7XHJcbiAgICBhbmltYXRpb25NYW5hZ2VyLmFkZFF1ZXVlKCBhdHRhY2tMZWZ0QW5pbWF0aW9uUXVldWUgKTtcclxuICAgIGFuaW1hdGlvbk1hbmFnZXIuYWRkUXVldWUoIGF0dGFja1JpZ2h0QW5pbWF0aW9uUXVldWUgKTtcclxuXHJcbiAgICByZXR1cm4gYW5pbWF0aW9uTWFuYWdlcjtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuXHJcbiAgICBjcmVhdGVBbmltYXRpb25NYW5hZ2VyLFxyXG59IiwiaW1wb3J0IHsgVVAsIFJJR0hULCBET1dOLCBMRUZULCBXQUxLLCBKVU1QLCBBVFRBQ0ssIElETEUgfSBmcm9tICcuLi9lbmdpbmUvY29uc3RhbnRzLmpzJztcclxuXHJcbmNsYXNzIENoYXJhY3RlckNvbnRyb2xsZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCBjaGFyYWN0ZXIgKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyID0gY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICB0aGlzLmtleXNEb3duID0ge1xyXG5cclxuICAgICAgICAgICAgJ2EnOiBmYWxzZSwgJ0EnOiBmYWxzZSwgJ0Fycm93TGVmdCc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnZCc6IGZhbHNlLCAnRCc6IGZhbHNlLCAnQXJyb3dSaWdodCc6IGZhbHNlLFxyXG4gICAgICAgICAgICAndyc6IGZhbHNlLCAnVyc6IGZhbHNlLCAnQXJyb3dVcCc6IGZhbHNlLFxyXG4gICAgICAgICAgICAncyc6IGZhbHNlLCAnUyc6IGZhbHNlLCAnQXJyb3dEb3duJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdrJzogZmFsc2UsICdLJzogZmFsc2UsICdFbnRlcic6IGZhbHNlLFxyXG4gICAgICAgICAgICAnICc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24uYmluZCggdGhpcyApICk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCAna2V5dXAnLCB0aGlzLmhhbmRsZUtleVVwLmJpbmQoIHRoaXMgKSApO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlTW91c2VEb3duLmJpbmQoIHRoaXMgKSApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXNldEtleXNEb3duKCkge1xyXG5cclxuICAgICAgICBmb3IgKCBsZXQga2V5IGluIHRoaXMua2V5c0Rvd24gKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmtleXNEb3duWyBrZXkgXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc1dhbGtLZXlEb3duKCBrZXkgKSB7XHJcblxyXG4gICAgICAgIGxldCBpc1VwICAgID0gdGhpcy5rZXlzRG93blsgJ3cnIF0gfHwgdGhpcy5rZXlzRG93blsgJ1cnIF0gfHwgdGhpcy5rZXlzRG93blsgJ0Fycm93VXAnIF07XHJcbiAgICAgICAgbGV0IGlzTGVmdCAgPSB0aGlzLmtleXNEb3duWyAnYScgXSB8fCB0aGlzLmtleXNEb3duWyAnQScgXSB8fCB0aGlzLmtleXNEb3duWyAnQXJyb3dMZWZ0JyBdO1xyXG4gICAgICAgIGxldCBpc0Rvd24gID0gdGhpcy5rZXlzRG93blsgJ3MnIF0gfHwgdGhpcy5rZXlzRG93blsgJ1MnIF0gfHwgdGhpcy5rZXlzRG93blsgJ0Fycm93RG93bicgXTtcclxuICAgICAgICBsZXQgaXNSaWdodCA9IHRoaXMua2V5c0Rvd25bICdkJyBdIHx8IHRoaXMua2V5c0Rvd25bICdEJyBdIHx8IHRoaXMua2V5c0Rvd25bICdBcnJvd1JpZ2h0JyBdO1xyXG5cclxuICAgICAgICBpZiAoIGtleSA9PT0gVVAgKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXNVcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIGtleSA9PT0gTEVGVCApIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpc0xlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCBrZXkgPT09IERPV04gKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXNEb3duO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgga2V5ID09PSBSSUdIVCApIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1JpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1VwIHx8IGlzTGVmdCB8fCBpc0Rvd24gfHwgaXNSaWdodDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXNKdW1wS2V5RG93bigpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0Rvd25bICcgJyBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQXR0YWNrS2V5RG93bigpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0Rvd25bICdrJyBdIHx8IHRoaXMua2V5c0Rvd25bICdLJyBdIHx8IHRoaXMua2V5c0Rvd25bICdFbnRlcicgXTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVLZXlzT2ZBdHRhY2soKSB7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5pc0F0dGFja0tleURvd24oKSApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyLmF0dGFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVLZXlzT2ZXYWxrQW5kSnVtcCgpIHtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLmlzV2Fsa0tleURvd24oIFVQICkgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcEtleURvd24oKSA/IHRoaXMuY2hhcmFjdGVyLmp1bXBVcCgpIDogdGhpcy5jaGFyYWN0ZXIud2FsayggVVAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIHRoaXMuaXNXYWxrS2V5RG93biggTEVGVCApICkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBLZXlEb3duKCkgPyB0aGlzLmNoYXJhY3Rlci5qdW1wTGVmdCgpIDogdGhpcy5jaGFyYWN0ZXIud2FsayggTEVGVCApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggdGhpcy5pc1dhbGtLZXlEb3duKCBET1dOICkgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcEtleURvd24oKSA/IHRoaXMuY2hhcmFjdGVyLmp1bXBEb3duKCkgOiB0aGlzLmNoYXJhY3Rlci53YWxrKCBET1dOICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCB0aGlzLmlzV2Fsa0tleURvd24oIFJJR0hUICkgKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcEtleURvd24oKSA/IHRoaXMuY2hhcmFjdGVyLmp1bXBSaWdodCgpIDogdGhpcy5jaGFyYWN0ZXIud2FsayggUklHSFQgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIHRoaXMuaXNKdW1wS2V5RG93bigpICkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXIuanVtcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVLZXlEb3duKCBldmVudCApIHtcclxuXHJcbiAgICAgICAgaWYgKCBldmVudC5rZXkgaW4gdGhpcy5rZXlzRG93biApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMua2V5c0Rvd25bIGV2ZW50LmtleSBdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZUtleXNPZldhbGtBbmRKdW1wKCk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVLZXlzT2ZBdHRhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVLZXlVcCggZXZlbnQgKSB7XHJcblxyXG4gICAgICAgIGlmICggZXZlbnQua2V5IGluIHRoaXMua2V5c0Rvd24gKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIHRoaXMuY2hhcmFjdGVyLmN1cnJlbnRTdGF0ZSA9PT0gV0FMSyApIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3Rlci5zdG9wV2FsaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmtleXNEb3duWyBldmVudC5rZXkgXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVNb3VzZURvd24oIGV2ZW50ICkge1xyXG5cclxuICAgICAgICAvLyBDb250aW51b3VzIGNsaWNrcyBjYXVzZSB0ZXh0IGdldHMgc2VsZWN0ZWQuXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIuYXR0YWNrKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcblxyXG4gICAgQ2hhcmFjdGVyQ29udHJvbGxlclxyXG59OyIsImltcG9ydCBiYWNrZ3JvdW5kSW1hZ2VTb3VyY2UgZnJvbSAnLi4vYXNzZXRzL2JhY2tncm91bmQtZGV2LnBuZyc7XHJcblxyXG5sZXQgYmFja2dyb3VuZEltYWdlID0gbmV3IEltYWdlKCk7XHJcbmJhY2tncm91bmRJbWFnZS5zcmMgPSBiYWNrZ3JvdW5kSW1hZ2VTb3VyY2U7XHJcblxyXG5leHBvcnQge1xyXG5cclxuICAgIGJhY2tncm91bmRJbWFnZVxyXG59IiwiaW1wb3J0IHsgVVAsIFJJR0hULCBET1dOLCBMRUZUIH0gZnJvbSAnLi9lbmdpbmUvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgU3ByaXRlSW1hZ2UgfSBmcm9tICcuL2VuZ2luZS9zcHJpdGUnO1xyXG5pbXBvcnQgeyBBbmltYXRpb25NYW5hZ2VyIH0gZnJvbSAnLi9lbmdpbmUvYW5pbWF0aW9uJztcclxuaW1wb3J0IHsgQmFja2dyb3VuZExheWVyLCBMYXllck1hbmFnZXIsIEltYWdlTGF5ZXIsIExheWVyIH0gZnJvbSAnLi9lbmdpbmUvbGF5ZXInO1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi9lbmdpbmUvZ2FtZSc7XHJcbmltcG9ydCB7IE9iamVjdE1hbmFnZXIsIE9iamVjdENvbnRhaW5lciB9IGZyb20gJy4vZW5naW5lL29iamVjdC1tYW5hZ2VyJztcclxuaW1wb3J0IHsgR2FtZUV2ZW50TWFuYWdlciB9IGZyb20gJy4vZW5naW5lL2dhbWUvZXZlbnQnO1xyXG5cclxuaW1wb3J0IHsgdmVsbyB9IGZyb20gJy4vY2hhcmFjdGVycy92ZWxvLmpzJztcclxuaW1wb3J0IHsgUm9jayB9IGZyb20gJy4vb2JqZWN0cy9yb2Nrcy9yb2NrLmpzJztcclxuaW1wb3J0IHsgQ2hhcmFjdGVyQ29udHJvbGxlciB9IGZyb20gJy4vY2hhcmFjdGVycy9jaGFyYWN0ZXItY29udHJvbGxlci5qcyc7XHJcbmltcG9ydCB7IGJhY2tncm91bmRJbWFnZSB9IGZyb20gJy4vbWlzYy9iYWNrZ3JvdW5kLmpzJztcclxuXHJcbmxldCBnYW1lID0gbmV3IEdhbWUoIHtcclxuXHJcbiAgICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ2dhbWUnICksXHJcbiAgICB3aWR0aDogOTYwLFxyXG4gICAgaGVpZ2h0OiA0ODAsXHJcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IGJhY2tncm91bmRJbWFnZVxyXG59ICk7XHJcblxyXG5cclxubGV0IHZlbG9MYXllciA9IG5ldyBJbWFnZUxheWVyKCB7XHJcblxyXG4gICAgaWQ6ICd2ZWxvJyxcclxuICAgIHg6IDEyOCxcclxuICAgIHk6IDEyOCxcclxuICAgIHpJbmRleDogMixcclxuICAgIHdpZHRoOiAxOTYsXHJcbiAgICBoZWlnaHQ6IDE5Ny41LFxyXG59ICk7XHJcblxyXG5nYW1lLmFkZE9iamVjdCggdmVsbyApO1xyXG5nYW1lLmluaXQoKTtcclxuXHJcbmxldCBjb250cm9sbGVyID0gbmV3IENoYXJhY3RlckNvbnRyb2xsZXIoIHZlbG8gKTtcclxuXHJcbmNvbnRyb2xsZXIuaW5pdCgpO1xyXG5cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9